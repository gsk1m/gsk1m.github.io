<!DOCTYPE html>
<html lang="en">

<head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link rel="stylesheet" href="/assets/css/style.css">
<link rel="stylesheet" href="/assets/css/academicons-1.9.2/css/academicons.css">
<link rel="stylesheet" href="/assets/css/fontawesome-free-6.1.1-web/css/all.css">
<link href="https://fonts.googleapis.com/css?family=Merriweather:300|Raleway:400,700" rel="stylesheet">

<title>ğŸŒˆ [SymForce Tutorial 1í¸] Nonlinear ICP ë°‘ë°”ë‹¥ë¶€í„° êµ¬í˜„í•´ë³´ê¸°</title>

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>ğŸŒˆ [SymForce Tutorial 1í¸] Nonlinear ICP ë°‘ë°”ë‹¥ë¶€í„° êµ¬í˜„í•´ë³´ê¸° | Giseop Kim Blog</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="ğŸŒˆ [SymForce Tutorial 1í¸] Nonlinear ICP ë°‘ë°”ë‹¥ë¶€í„° êµ¬í˜„í•´ë³´ê¸°" />
<meta name="author" content="Giseop Kim" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="SymForce ë€? ìµœê·¼ RSS 2022 ì—ì„œ SymForce ë¼ëŠ” framework ì´ ê³µê°œë˜ì—ˆë‹¤. Skydio ê°€ ê³µê°œí•˜ì˜€ë‹¤. ë‚´ë¶€ì ìœ¼ë¡œ 5ë…„ë™ì•ˆ ê°œë°œí•˜ê³  ì‹¤ì œë¡œ ì‚¬ìš©í•´ì˜¨ ê²ƒì´ë¼ê³  í•œë‹¤. Skydio ëŠ” ì´ˆê¸°ì— GTSAM ì €ìì´ì‹  + SLAM ì—­ì‚¬ì— í° íšì„ ê·¸ì€ Frank Dellaert êµìˆ˜ë‹˜ì˜ ìë¬¸ì„ ë°›ì•˜ë‹¤ê³  ë“¤ì—ˆë‹¤. ìµœê·¼ì—ëŠ” ë©‹ì§„ ê²°ê³¼ë“¤ë„ ë³´ì—¬ì£¼ê³  ìˆì–´ì„œ, ì´ë“¤ì˜ ê¸°ìˆ ë ¥ì€ ì–´ë–¤ ìˆ˜ì¤€ì¼ì§€ ê¶ê¸ˆí–ˆì—ˆë‹¤. SymForce ë…¼ë¬¸ì„ ë³´ë©´ robotics (íŠ¹íˆ ë“œë¡  ë“±)ì™€ ê°™ì´ ë¹ ë¥¸ ê³„ì‚°ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ìš”êµ¬ë  ë•Œì—ëŠ”, (Ceres ê°™ì€) ê³„ì‚°ê·¸ë˜í”„ ê¸°ë°˜ë³´ë‹¤ symbolic ê¸°ë°˜ ì˜ ë¯¸ë¶„ì´ ë” ì¢‹ë‹¤ê³  ì£¼ì¥í•˜ê³  ìˆë‹¤. ì›ë˜ Robotics ì—ì„œ Ceres ê°€ ë§ì´ ì“°ì´ê³  ìˆì–´ì„œ ìƒˆë¡œìš´ solver ì˜ í•„ìš”ì„±ì„ ëª» ëŠë¼ê³  ìˆì—ˆëŠ”ë°, ì´ ë…¼ë¬¸ì˜ ë§ì„ ë“¤ì–´ë³´ë©´ ì™ ì§€ ì„¤ë“ì´ ëœë‹¤. í•œ ë²ˆ ê³µë¶€í• ê²¸ ì¨ë³´ì•˜ë‹¤." />
<meta property="og:description" content="SymForce ë€? ìµœê·¼ RSS 2022 ì—ì„œ SymForce ë¼ëŠ” framework ì´ ê³µê°œë˜ì—ˆë‹¤. Skydio ê°€ ê³µê°œí•˜ì˜€ë‹¤. ë‚´ë¶€ì ìœ¼ë¡œ 5ë…„ë™ì•ˆ ê°œë°œí•˜ê³  ì‹¤ì œë¡œ ì‚¬ìš©í•´ì˜¨ ê²ƒì´ë¼ê³  í•œë‹¤. Skydio ëŠ” ì´ˆê¸°ì— GTSAM ì €ìì´ì‹  + SLAM ì—­ì‚¬ì— í° íšì„ ê·¸ì€ Frank Dellaert êµìˆ˜ë‹˜ì˜ ìë¬¸ì„ ë°›ì•˜ë‹¤ê³  ë“¤ì—ˆë‹¤. ìµœê·¼ì—ëŠ” ë©‹ì§„ ê²°ê³¼ë“¤ë„ ë³´ì—¬ì£¼ê³  ìˆì–´ì„œ, ì´ë“¤ì˜ ê¸°ìˆ ë ¥ì€ ì–´ë–¤ ìˆ˜ì¤€ì¼ì§€ ê¶ê¸ˆí–ˆì—ˆë‹¤. SymForce ë…¼ë¬¸ì„ ë³´ë©´ robotics (íŠ¹íˆ ë“œë¡  ë“±)ì™€ ê°™ì´ ë¹ ë¥¸ ê³„ì‚°ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ìš”êµ¬ë  ë•Œì—ëŠ”, (Ceres ê°™ì€) ê³„ì‚°ê·¸ë˜í”„ ê¸°ë°˜ë³´ë‹¤ symbolic ê¸°ë°˜ ì˜ ë¯¸ë¶„ì´ ë” ì¢‹ë‹¤ê³  ì£¼ì¥í•˜ê³  ìˆë‹¤. ì›ë˜ Robotics ì—ì„œ Ceres ê°€ ë§ì´ ì“°ì´ê³  ìˆì–´ì„œ ìƒˆë¡œìš´ solver ì˜ í•„ìš”ì„±ì„ ëª» ëŠë¼ê³  ìˆì—ˆëŠ”ë°, ì´ ë…¼ë¬¸ì˜ ë§ì„ ë“¤ì–´ë³´ë©´ ì™ ì§€ ì„¤ë“ì´ ëœë‹¤. í•œ ë²ˆ ê³µë¶€í• ê²¸ ì¨ë³´ì•˜ë‹¤." />
<link rel="canonical" href="http://localhost:4000/slam/2022/07/10/symforce_icp.html" />
<meta property="og:url" content="http://localhost:4000/slam/2022/07/10/symforce_icp.html" />
<meta property="og:site_name" content="Giseop Kim Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-07-10T06:03:36+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="ğŸŒˆ [SymForce Tutorial 1í¸] Nonlinear ICP ë°‘ë°”ë‹¥ë¶€í„° êµ¬í˜„í•´ë³´ê¸°" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Giseop Kim"},"dateModified":"2022-07-10T06:03:36+09:00","datePublished":"2022-07-10T06:03:36+09:00","description":"SymForce ë€? ìµœê·¼ RSS 2022 ì—ì„œ SymForce ë¼ëŠ” framework ì´ ê³µê°œë˜ì—ˆë‹¤. Skydio ê°€ ê³µê°œí•˜ì˜€ë‹¤. ë‚´ë¶€ì ìœ¼ë¡œ 5ë…„ë™ì•ˆ ê°œë°œí•˜ê³  ì‹¤ì œë¡œ ì‚¬ìš©í•´ì˜¨ ê²ƒì´ë¼ê³  í•œë‹¤. Skydio ëŠ” ì´ˆê¸°ì— GTSAM ì €ìì´ì‹  + SLAM ì—­ì‚¬ì— í° íšì„ ê·¸ì€ Frank Dellaert êµìˆ˜ë‹˜ì˜ ìë¬¸ì„ ë°›ì•˜ë‹¤ê³  ë“¤ì—ˆë‹¤. ìµœê·¼ì—ëŠ” ë©‹ì§„ ê²°ê³¼ë“¤ë„ ë³´ì—¬ì£¼ê³  ìˆì–´ì„œ, ì´ë“¤ì˜ ê¸°ìˆ ë ¥ì€ ì–´ë–¤ ìˆ˜ì¤€ì¼ì§€ ê¶ê¸ˆí–ˆì—ˆë‹¤. SymForce ë…¼ë¬¸ì„ ë³´ë©´ robotics (íŠ¹íˆ ë“œë¡  ë“±)ì™€ ê°™ì´ ë¹ ë¥¸ ê³„ì‚°ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ìš”êµ¬ë  ë•Œì—ëŠ”, (Ceres ê°™ì€) ê³„ì‚°ê·¸ë˜í”„ ê¸°ë°˜ë³´ë‹¤ symbolic ê¸°ë°˜ ì˜ ë¯¸ë¶„ì´ ë” ì¢‹ë‹¤ê³  ì£¼ì¥í•˜ê³  ìˆë‹¤. ì›ë˜ Robotics ì—ì„œ Ceres ê°€ ë§ì´ ì“°ì´ê³  ìˆì–´ì„œ ìƒˆë¡œìš´ solver ì˜ í•„ìš”ì„±ì„ ëª» ëŠë¼ê³  ìˆì—ˆëŠ”ë°, ì´ ë…¼ë¬¸ì˜ ë§ì„ ë“¤ì–´ë³´ë©´ ì™ ì§€ ì„¤ë“ì´ ëœë‹¤. í•œ ë²ˆ ê³µë¶€í• ê²¸ ì¨ë³´ì•˜ë‹¤.","headline":"ğŸŒˆ [SymForce Tutorial 1í¸] Nonlinear ICP ë°‘ë°”ë‹¥ë¶€í„° êµ¬í˜„í•´ë³´ê¸°","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/slam/2022/07/10/symforce_icp.html"},"url":"http://localhost:4000/slam/2022/07/10/symforce_icp.html"}</script>
<!-- End Jekyll SEO tag -->


<script type="text/javascript" src="/assets/js/darkmode.js"></script>


<!-- fabicon -->
<link rel="icon" type="image/png" href="/assets/icon/me.png">
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        TeX: {
          equationNumbers: {
            autoNumber: "AMS"
          }
        },
        tex2jax: {
        inlineMath: [ ['$', '$'] ],
        displayMath: [ ['$$', '$$'] ],
        processEscapes: true,
      }
    });
MathJax.Hub.Register.MessageHook("Math Processing Error",function (message) {
        alert("Math Processing Error: "+message[1]);
    });
MathJax.Hub.Register.MessageHook("TeX Jax - parse error",function (message) {
        alert("Math Processing Error: "+message[1]);
    });
</script>
<script type="text/javascript" async
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
    
</head><body>
  <main class="container">
    <section class="about">
      <div class="about-header condensed">
      <div class="about-title">
      <a href="/">
        
        <img src="/assets/giseopkim_thermal.png" alt="Giseop Kim" />
        
      </a>
      <h2 id="title">
        <a href="/">Giseop Kim</a>
      </h2>
      </div><p class="tagline">SLAM Engineer</p></div>
      
      <ul class="social about-footer condensed"><a href="https://www.linkedin.com/in/giseop-kim-71683088" target="_blank">
          <li>
            <i class="icon-linkedin-squared"></i>
          </li>
        </a><a href="https://scholar.google.com/citations?user=9mKOLX8AAAAJ&hl=ko&oi=ao" target="_blank">
          <li>
            <i class="ai ai-google-scholar"></i>
          </li>
        </a><a href="https://github.com/gisbi-kim" target="_blank">
          <li>
            <i class="icon-github-circled"></i>
          </li>
        </a><a href="https://bit.ly/giseopkim" target="_blank">
          <li>
            <i class="fa fa-user" style="font-size: 2.09em;"></i>
            <!-- <i> notion</i> -->
            <!-- <i class="fa fa-user"></i> -->
          </li>
        </a><a href="https://youtube.com/channel/UCrmVMJ3KEFbDD9EtnAmDT6g" target="_blank">
          <li>
            <i class="icon-youtube"></i>
          </li>
        </a></ul><p class="about-footer condensed">&copy;
        2023</p><div class="about-footer condensed">
        <p>Dark Mode
          <i class="icon-moon"></i>
          <label class="switch">
            <input type="checkbox" class="dark-mode-toggle">
            <span class="slider round" onclick="toggleDarkMode()"></span>
          </label>
        </p>
      </div>
    </section>
    <section class="content">
      <div class="post-container">
  <a class="post-link" href="/slam/2022/07/10/symforce_icp.html">
    <h2 class="post-title">ğŸŒˆ [SymForce Tutorial 1í¸] Nonlinear ICP ë°‘ë°”ë‹¥ë¶€í„° êµ¬í˜„í•´ë³´ê¸°</h2>
  </a>
  <hr style="border:1px foo rgb(193, 198, 200)">
  <div class="post-meta">
    <div class="post-date"><i class="icon-calendar"></i>Jul 10, 2022</div><ul class="post-categories"><li>SLAM</li></ul></div>
  <div class="post">
    <!-- --- -->
<h1 id="symforce-ë€">SymForce ë€?</h1>
<ul>
  <li>ìµœê·¼ RSS 2022 ì—ì„œ <a href="https://symforce.org/" target="_blank">SymForce</a> ë¼ëŠ” framework ì´ ê³µê°œë˜ì—ˆë‹¤. Skydio ê°€ ê³µê°œí•˜ì˜€ë‹¤. ë‚´ë¶€ì ìœ¼ë¡œ 5ë…„ë™ì•ˆ ê°œë°œí•˜ê³  ì‹¤ì œë¡œ ì‚¬ìš©í•´ì˜¨ ê²ƒì´ë¼ê³  í•œë‹¤.</li>
  <li>Skydio ëŠ” ì´ˆê¸°ì— GTSAM ì €ìì´ì‹  + SLAM ì—­ì‚¬ì— í° íšì„ ê·¸ì€ Frank Dellaert êµìˆ˜ë‹˜ì˜ ìë¬¸ì„ ë°›ì•˜ë‹¤ê³  ë“¤ì—ˆë‹¤. ìµœê·¼ì—ëŠ” <a href="https://youtu.be/ncZmnfIRIWE" target="_blank">ë©‹ì§„ ê²°ê³¼ë“¤ë„ ë³´ì—¬ì£¼ê³  ìˆì–´ì„œ</a>, ì´ë“¤ì˜ ê¸°ìˆ ë ¥ì€ ì–´ë–¤ ìˆ˜ì¤€ì¼ì§€ ê¶ê¸ˆí–ˆì—ˆë‹¤.</li>
  <li><a href="https://arxiv.org/abs/2204.07889" target="_blank">SymForce ë…¼ë¬¸</a>ì„ ë³´ë©´ robotics (íŠ¹íˆ ë“œë¡  ë“±)ì™€ ê°™ì´ ë¹ ë¥¸ ê³„ì‚°ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ìš”êµ¬ë  ë•Œì—ëŠ”, (Ceres ê°™ì€) ê³„ì‚°ê·¸ë˜í”„ ê¸°ë°˜ë³´ë‹¤ <strong>symbolic ê¸°ë°˜</strong> ì˜ ë¯¸ë¶„ì´ ë” ì¢‹ë‹¤ê³  ì£¼ì¥í•˜ê³  ìˆë‹¤. ì›ë˜ Robotics ì—ì„œ Ceres ê°€ ë§ì´ ì“°ì´ê³  ìˆì–´ì„œ ìƒˆë¡œìš´ solver ì˜ í•„ìš”ì„±ì„ ëª» ëŠë¼ê³  ìˆì—ˆëŠ”ë°, ì´ ë…¼ë¬¸ì˜ ë§ì„ ë“¤ì–´ë³´ë©´ ì™ ì§€ ì„¤ë“ì´ ëœë‹¤.</li>
  <li>í•œ ë²ˆ ê³µë¶€í• ê²¸ ì¨ë³´ì•˜ë‹¤.</li>
</ul>

<!-- --- -->
<h1 id="nonlinear-icp-êµ¬í˜„í•˜ê¸°">Nonlinear ICP êµ¬í˜„í•˜ê¸°</h1>
<h2 id="ëª©í‘œ">ëª©í‘œ</h2>
<ul>
  <li>Nonlinear ICP ë¥¼ êµ¬í˜„í•´ë³´ì.</li>
</ul>

<h2 id="ë°°ê²½ì§€ì‹">ë°°ê²½ì§€ì‹</h2>
<h3 id="nonlinear-optimization">Nonlinear optimization</h3>
<ul>
  <li>Nonlinear optimization ì–´ì©Œêµ¬ í•˜ë©´ <strong>== Gauss-Newtonìœ¼ë¡œ iterative í•˜ê²Œ í‘¼ë‹¤</strong> ë¼ê³  ì´í•´í•´ë„ ê±°ì˜ ë¬´ë°©í•˜ë‹¤.</li>
  <li>ì´ ë•Œ update step ì˜ ë°©í–¥ê³¼ í¬ê¸°ë¥¼ ê³„ì‚°í•˜ê¸° ìœ„í•´ cost function ì˜ ë¯¸ë¶„ê°’ì´ í•„ìš”í•˜ê³  ì´ê²ƒì„ Jacobianì´ë¼ê³  ë¶€ë¥¸ë‹¤.
    <ul>
      <li>ì´ ë•Œ cost function output dimension ì´ $n$ì´ê³ , cost function ì„ êµ¬ì„±í•˜ëŠ” ìš°ë¦¬ê°€ ì°¾ê³ ì‹¶ì€ ìµœì ê°’ì— ëŒ€í•œ íŒŒë¼ë¯¸í„° ë³€ìˆ˜ì˜ dimension ì´ $m$ì´ë¼ê³  í•˜ë©´ Jacobianì˜ shape ì€ $n \times m$ì´ ë˜ê²Œ ëœë‹¤.</li>
    </ul>
  </li>
</ul>

<h3 id="auto-diff">Auto diff</h3>
<ul>
  <li>ê·¸ëŸ°ë° nonlinearí•œ(ì¦‰ $a_0 x_0 + a_1 x_ 1 + â€¦$ í˜•íƒœê°€ ì•„ë‹Œ ëª¨ë“  í¬ë§·) ë³µì¡í•œ cost function ì˜ Jacobian ì„ ì‚¬ëŒì´ ì†ìœ¼ë¡œ ê³„ì‚°í•˜ëŠ” ê²ƒì€ <a href="http://ceres-solver.org/automatic_derivatives.html#automatic-derivatives" target="_blank">ì‹¤ìˆ˜í•  ìœ„í—˜ì´ í¬ê¸° ë•Œë¬¸ì—</a>, ë³€ìˆ˜ë“¤ì„ ê³„ì‚°ê·¸ë˜í”„ë¡œ ì—°ê²°í•˜ê³ , ìë™ìœ¼ë¡œ ë¯¸ë¶„ê°’ì´ ê´€ë¦¬ë˜ë„ë¡ (ì „íŒŒë˜ë„ë¡) í•˜ëŠ” êµ¬í˜„ì„ ì±„íƒí•˜ëŠ” ë°©ì‹ì´ ë„ë¦¬ ì“°ì´ê³  ìˆë‹¤ (e.g., Ceres, Pytorch)
    <ul>
      <li>ì´ ê²½ìš°, forward ì „íŒŒë  ë•Œ í•˜ë‚˜ì˜ ë³€ìˆ˜ì— ëŒ€í•´ valueì™€ gradient ì˜ ë‘ ê°’ì„ ë™ì‹œì— í•¨ê»˜ ì €ì¥í•´ì•¼ ë˜ê²Œëœë‹¤. ì˜ˆë¥¼ ë“¤ì–´, <a href="http://ceres-solver.org/automatic_derivatives.html#dual-numbers-jets" target="_blank">Ceres ì—ì„œëŠ” jet</a>ì´ë¼ëŠ” í˜•íƒœë¡œ ê´€ë¦¬ë˜ê³ ,  <a href="https://autodiff.github.io/#forward-mode" target="_blank">autodiff ì—ì„œëŠ” dual</a> ì´ë¼ëŠ” ì´ë¦„ì´ ì“°ì´ê³  ìˆë‹¤.</li>
    </ul>
  </li>
</ul>

<h3 id="symbolic-diff">Symbolic diff</h3>
<ul>
  <li>ì´ë ‡ê²Œ jet, dual ë“±ì˜ êµ¬ì¡°ì²´ë¡œ ë‘ ê°’ì„ ê´€ë¦¬í•˜ë©´ì„œ ê³„ì‚°ê·¸ë˜í”„ë¥¼ í˜•ì„±í•˜ëŠ” ì‹ì˜ autodiff ê°€ robotics ì™€ deep learning ë¶„ì•¼ ëª¨ë‘ì— ëŒ€í•´ì„œ ë„ë¦¬ ì“°ì´ê³  ìˆëŠ” (Ceres, autodiff, tinyAD, jax, pytorch, tensorflow ë“±ë“±ë“±) ìš”ì¦˜ì´ì§€ë§Œ â€¦</li>
  <li>SymForce ëŠ” Symbolic ê¸°ë°˜ì´ë¼ê³  í•œë‹¤. ì¦‰, ì„ì˜ì˜ cost function ì´ ì£¼ì–´ì§ˆ ë•Œ, ì´ê²ƒì˜ ìì½”ë¹„ì•ˆì„ ëª…ì‹œì ìœ¼ë¡œ ì‹ìœ¼ë¡œ ë”± ê³„ì‚°í•´ì¤€ë‹¤. ê·¸ë¦¬ê³  ì´ ê³„ì‚°ì´ ìµœì í™”ë˜ë„ë¡ í•´ì¤€ë‹¤.
    <ul>
      <li>ê·¸ë¦¬ê³  <a href="https://symforce.org/tutorials/codegen_tutorial.html" target="_blank">python ìœ¼ë¡œ ìˆ˜ì‹ì„ ì ìœ¼ë©´ c++ code ë¥¼ ìƒì„±</a>í•´ì£¼ê¸°ê¹Œì§€ í•œë‹¤!</li>
    </ul>
  </li>
  <li>ì˜ˆë¥¼ ë“¤ì–´, ICPì—ì„œ cost function ì€ ë‹¤ìŒê³¼ ê°™ë‹¤. 3D point $p_0$ ê³¼ point $p_1$ì´ ì£¼ì–´ì§ˆ ë•Œ, loss $= ||\left( R \{ \theta \}*p_0 + t \right) - p_1 || _2$ ë¥¼ ìµœì†Œí™”í•˜ëŠ” transformation parameter $\theta$ ì™€ $t$ ë¥¼ ì°¾ëŠ” ê²ƒì´ ëª©í‘œì´ë‹¤.
    <ul>
      <li>ì´ ë•Œ ìì—°ìŠ¤ëŸ½ê²Œ ê·¸ëŸ¬ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì§ˆë¬¸(ë©˜ë¶•)ì— ë¹ ì§€ê²Œ ëœë‹¤. $\frac{\partial\text{loss}}{\partial\bf{\theta}}$ ì™€ $\frac{\partial\text{loss}}{\partial{t}}$ë¥¼ ì–´ë–»ê²Œ ê³„ì‚°í•˜ì§€ ..???!?</li>
      <li>ì´ ë•Œ ì´ê±¸ ê³„ì‚°ê·¸ë˜í”„ë¡œ ë¬¶ì–´ì„œ ê°’ì„ ì£¼ë©´ autodiff ì´ê³ .. ëª…ì‹œì ìœ¼ë¡œ (ìˆ˜ì‘ì—… ê¸°ì¤€)ë³µì¡í•œ ìˆ˜ì‹ì„ ì°¾ì•„ì£¼ëŠ” ê²Œ symbolic ì´ë¼ê³  ì¼ë‹¨ ì´í•´í•˜ê³  ìˆë‹¤ (ë” ê³µë¶€ í•„ìš”)</li>
      <li>ì¦‰, SymForce ì—ê²Œ ì´ ì‘ì—…ì„ ë§¡ê¸°ë©´ $\frac{\partial\text{loss}}{\partial\bf{\theta}}$ì´ ë‹¤ìŒê³¼ ê°™ì´ ì•„ë˜ ê·¸ë¦¼ì²˜ëŸ¼ ë‚˜ì˜¨ë‹¤ (ë„ˆë¬´ ê¸¸ì–´ì„œ ë‹¤ ì˜®ê¸¸ ìˆ˜ê°€ ì—†ì–´ì„œ ìº¡ì²˜ë¡œ ëŒ€ì‹ í•œë‹¤. ì „ì²´ ì‹ì€ <a href="https://github.com/gisbi-kim/symforce-tutorials/blob/main/nonlinear_icp_from_scratch/symforce_icp.ipynb">ì—¬ê¸° jupyter notebook</a>ë¥¼ ì°¸ê³ ).
        <p align="center">
      <img src="/assets/data/2022-07-10-symforce_icp/jrot.png" width="1050" />
  </p>
      </li>
      <li>ì´ ë•Œ $\theta$ëŠ” rotation ì„ minimal í•˜ê²Œ parametrize í•˜ëŠ” angle-axis ê°€ ëœë‹¤. ì´ë¥¼ tangent space ì—ì„œ ìµœì í™”í•œë‹¤ë¼ê³ ë„ í‘œí˜„í•˜ê³ , ì´í›„ì— ì´ ê°’ì„ ì›ë˜ ê³µê°„ (e.g., rotationì— ëŒ€í•´ì„œëŠ” $\text{SO(3)}$) ìœ¼ë¡œ ë³´ë‚´ì£¼ëŠ” ì‘ì—…ì„ retract ë¼ê³  ë¶€ë¥´ê¸°ë„ í•˜ê³  â€¦ ì´ì— ëŒ€í•´ì„œëŠ” ë³„ë„ì˜ rotation ê´€ë ¨ ìë£Œ(<a href="https://arxiv.org/abs/1812.01537">A micro Lie theory for state estimation in robotics</a>, <a href="https://arxiv.org/abs/1711.02508">Quaternion kinematics for the error-state Kalman filter
</a>)ë¥¼ ì°¸ê³ í•˜ë„ë¡ í•˜ì.</li>
    </ul>
  </li>
  <li>ì•„ë¬´íŠ¼ ìš”ì•½í•˜ìë©´ Jacobain matrix ì˜ ê°’ì„ ì•Œë©´ iterative update í•˜ëŠ” ê²ƒì€ ë„ˆë¬´ ì‰¬ìš´ë°, ì´ ë•Œ ì•„ë¬´ë¦¬ ë³µì¡í•œ í•¨ìˆ˜ì—¬ë„ SymForce ê°€ ìì½”ë¹„ì•ˆì„ ì•Œì•„ì„œ ì˜ êµ¬í•´ì¤€ë‹¤ëŠ” ê²ƒ. íŠ¹íˆ robotics ì—ì„œ ë§ì´ ì‚¬ìš©í•˜ëŠ” parameter ë“¤ (camera projection, rotation ë“±) ì— ëŒ€í•œ ì§€ì›ì„ í¬í•¨í•˜ê³  ìˆê¸° ë•Œë¬¸ì— SymPy ë“±ì˜ ê¸°ì¡´ Symbolic solver ë“¤ì„ ì‚¬ìš©í•  ë•Œë³´ë‹¤ robotics ë¬¸ì œë¥¼ ë” í’€ê¸° í¸ë¦¬í•´ì¡Œë‹¤ëŠ” ì  ë“±ì´ ì¥ì ì´ë¼ê³  í•  ìˆ˜ ìˆê² ë‹¤.</li>
</ul>

<h2 id="êµ¬í˜„">êµ¬í˜„</h2>

<p id="grisetti-tuto"> </p>
<h3 id="iterative-update">Iterative update</h3>
<ul>
  <li>ìì½”ë¹„ì•ˆì„ êµ¬í•œë‹¤ìŒ, ì´ê²ƒì„ ì´ìš©í•´ì„œ iterative í•˜ê²Œ ìµœì ì˜ $d[\theta, t]$ ë¥¼ êµ¬í•˜ê³ , ì¡°ê¸ˆì”© ì´ ê°’ì„ ì—…ë°ì´íŠ¸ í•´ë‚˜ê°€ëŠ” ë£¨í‹´ì€ ë„ˆë¬´ë‚˜ ìëª…í•˜ë‹¤. ì´ì— ëŒ€í•´ì„œëŠ” Grisetti êµìˆ˜ë‹˜ì˜ <a href="http://www.diag.uniroma1.it//~labrococo/tutorial_icra_2016/icra16_slam_tutorial_grisetti.pdf">2016ë…„ ICRA tutorial ìë£Œ</a> ë¥¼ ì¶”ì²œí•œë‹¤. ì—¬ê¸°ì— ë³´ë©´ ì´ëŸ° ì‹ì´ ìˆë‹¤. Octave (Matlab) êµ¬í˜„ì²´ì´ë‹¤.</li>
</ul>
<p align="center">
     <img src="/assets/data/2022-07-10-symforce_icp/gn_octave.png" width="650" />
</p>

<ul>
  <li>ìœ„ì˜ êµ¬ì¡°ë¥¼ pythonìœ¼ë¡œ ì˜®ê¸°ë©´ ë‹¤ìŒê³¼ ê°™ì´ ëœë‹¤. (ì „ì²´ ì½”ë“œëŠ” <a href="https://github.com/gisbi-kim/symforce-tutorials/tree/main/nonlinear_icp/1_nonlinear_icp_SE3">ì—¬ê¸° symforce-tutorials</a> ì„œ ë³¼ ìˆ˜ ìˆë‹¤).
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">icp</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">tgt</span><span class="p">,</span> <span class="n">tf_init</span><span class="p">,</span> <span class="n">max_iter</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>

  <span class="n">tf</span> <span class="o">=</span> <span class="n">tf_init</span> <span class="c1"># 6 dim
</span>  <span class="n">num_pts</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

  <span class="k">for</span> <span class="n">_iter</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_iter</span><span class="p">):</span>
      <span class="c1"># reset for each iter
</span>      <span class="n">H</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
      <span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

      <span class="c1"># gathering measurements
</span>      <span class="k">for</span> <span class="n">pt_idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_pts</span><span class="p">):</span>

          <span class="n">src_pt</span> <span class="o">=</span> <span class="n">src</span><span class="p">[</span><span class="n">pt_idx</span><span class="p">,</span> <span class="p">:]</span>
          <span class="n">tgt_pt</span> <span class="o">=</span> <span class="n">tgt</span><span class="p">[</span><span class="n">pt_idx</span><span class="p">,</span> <span class="p">:]</span>

          <span class="n">e</span><span class="p">,</span> <span class="n">Je_rot</span><span class="p">,</span> <span class="n">Je_trans</span> \
              <span class="o">=</span> <span class="n">evaluate_error_and_jacobian</span><span class="p">(</span><span class="n">src_pt</span><span class="p">,</span> <span class="n">tgt_pt</span><span class="p">,</span> <span class="n">tf</span><span class="p">)</span>

          <span class="n">J</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">Je_rot</span><span class="p">,</span> <span class="n">Je_trans</span><span class="p">))</span> <span class="c1"># thus, 3x6
</span>
          <span class="n">H</span> <span class="o">=</span> <span class="n">H</span> <span class="o">+</span> <span class="n">J</span><span class="o">.</span><span class="n">T</span> <span class="o">@</span> <span class="n">J</span> <span class="c1"># H: 6x3 * 3x6 =&gt; thus H is 6x6
</span>          <span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">+</span> <span class="n">J</span><span class="o">.</span><span class="n">T</span> <span class="o">@</span> <span class="n">e</span> <span class="c1"># b: 6x3 * 3x1 =&gt; thus b is 6x1
</span>
      <span class="n">dtf</span> <span class="o">=</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">H</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span> <span class="c1"># note the step direction is minus
</span>      <span class="n">tf</span> <span class="o">=</span> <span class="n">tf</span> <span class="o">+</span> <span class="n">dtf</span> <span class="c1"># updated within the tangent space
</span>
  <span class="k">return</span> <span class="n">tf</span>
</code></pre></div>    </div>
    <ul>
      <li>note: ì´ ë•Œ <code class="language-plaintext highlighter-rouge">src_pt</code>ì™€ <code class="language-plaintext highlighter-rouge">tgt_pt</code> ëŠ” ì‹¤ì œë¡œ ê°™ì€ ì§€ì ì˜ í¬ì¸íŠ¸ì—¬ì•¼ í•œë‹¤. ì¦‰, correspondence ì—¬ì•¼ í•œë‹¤.
        <ul>
          <li>ps. ì´ë²ˆ íŠœí† ë¦¬ì–¼ì€ êµìœ¡ìš©ìœ¼ë¡œ ì‘ì„±í•´ë³¸ ê²ƒ (1. SymForceë¥¼ ì´ìš©í•´ì„œ ìë™ìœ¼ë¡œ Jacobianì„ ì‹¬ë³¼ë¦­ ê¸°ë°˜ìœ¼ë¡œ ê³„ì‚°í•´ë³´ê¸° 2. ì´ë¥¼ ì´ìš©í•´ì„œ nonlinear optimization ì˜ update ë¶€ë¶„ from scratchë¡œ êµ¬í˜„í•´ë³´ê¸°) ì´ê¸° ë•Œë¬¸ì—â€¦ point cloud $\text{pcd}_0$(ìœ„ì˜ ë¦¬í¬ì—ì„œ <code class="language-plaintext highlighter-rouge">data/251371071.pcd</code>ë¥¼ ë¡œë“œí•˜ê³  ì„ì˜ì˜ $\text{SE(3)}$ transformation ì„ ê°€í•´ì£¼ì–´ì„œ $\text{pcd}_1$ ì„ ìƒì„±í•˜ê³  ìˆë‹¤. ë”°ë¼ì„œ point ì˜ ìˆœì„œê°€ ë³´ì¡´ë˜ë¯€ë¡œ <code class="language-plaintext highlighter-rouge">src_pt</code>ì™€ <code class="language-plaintext highlighter-rouge">tgt_pt</code> ëª¨ë‘ ë™ì¼í•œ ì¸ë±ìŠ¤ <code class="language-plaintext highlighter-rouge">pt_idx</code> ë¡œ ê°€ì ¸ì˜¤ë©´ correspondence ê°€ ì„±ë¦½ëœë‹¤. ì‹¤ì œ ì„¸ê³„ ë¬¸ì œì—ì„œëŠ” <a href="https://pcl.readthedocs.io/projects/tutorials/en/latest/fpfh_estimation.html">FPFH local feature</a> ë“±ì˜ ë°©ë²•ìœ¼ë¡œ correspondence ë¥¼ ë¨¼ì € ì°¾ê³ , ì˜ associate ëœ pair ë¥¼ ìœ„ì˜ icp ì•Œê³ ë¦¬ì¦˜ì— ë„£ì–´ì£¼ì–´ì•¼ í•œë‹¤.</li>
        </ul>
      </li>
      <li>ìœ„ì˜ ë£¨í‹´ì€ íŠ¹ë³„íˆ ì–´ë ¤ìš¸ ê²ƒì€ ì—†ë‹¤. Robotics ë¬¸ì œì—ì„œ ICPë¿ ì•„ë‹ˆë¼ ì–´ë–¤ ì•Œê³ ë¦¬ì¦˜ì´ ë˜ë”ë¼ë„ ê²°êµ­ ìœ„ì˜ ëª¨ìŠµì„ í•˜ê²Œ ëœë‹¤.</li>
      <li>ì´ ë•Œ ê·¸ëŸ¬ë©´ ìœ„ì˜ ë£¨í‹´ì—ì„œ Jacobianì„ ê³„ì‚°í•´ì£¼ëŠ” <code class="language-plaintext highlighter-rouge">evaluate_error_and_jacobian</code> í•¨ìˆ˜ë¥¼ ë””ìì¸í•˜ëŠ” ê²ƒì´ ë¡œë³´í‹±ìŠ¤ ì—”ì§€ë‹ˆì–´ì˜ ì—­í• ì´ ëœë‹¤. ê·¸ëŸ°ë° ê·¸ê²ƒì„ ì´ì œ SymForceê°€ ìˆ˜í–‰í•´ì¤€ë‹¤. ì•„ë˜ ì½”ë“œì²˜ëŸ¼ ì •ì˜ëœ ëª¨ë¸ì— í•´ë‹¹ ë°ì´í„°í¬ì¸íŠ¸ì—ì„œì˜ ê°’ì„ ë„£ì–´ì£¼ê¸°ë§Œ í•˜ë©´ëœë‹¤. ì´ ì—­í• ì„ í•˜ëŠ” ê²ƒì´ SymForce ì—ì„œ <code class="language-plaintext highlighter-rouge">.subs</code> method ì¸ë° substitution ì„ ì˜ë¯¸í•œë‹¤.
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">def</span> <span class="nf">evaluate_error_and_jacobian</span><span class="p">(</span><span class="n">src_pt</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">tag_pt</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">transformation</span><span class="p">):</span>
  <span class="c1"># note: transformation is 6dim vector on the tangent space (i.e., [rotvec, trans])
</span>
      <span class="k">def</span> <span class="nf">inject_values</span><span class="p">(</span><span class="n">model</span><span class="p">):</span>
          <span class="n">model_evaluated</span> <span class="o">=</span> \
              <span class="n">model</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">rotvec</span><span class="p">,</span> <span class="n">sf</span><span class="o">.</span><span class="n">V3</span><span class="p">(</span><span class="n">transformation</span><span class="p">[:</span><span class="mi">3</span><span class="p">]))</span> \
                   <span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">transvec</span><span class="p">,</span> <span class="n">sf</span><span class="o">.</span><span class="n">V3</span><span class="p">(</span><span class="n">transformation</span><span class="p">[</span><span class="mi">3</span><span class="p">:]))</span> \
                   <span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">p_src</span><span class="p">,</span> <span class="n">sf</span><span class="o">.</span><span class="n">V3</span><span class="p">(</span><span class="n">src_pt</span><span class="p">))</span> \
                   <span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">p_tgt</span><span class="p">,</span> <span class="n">sf</span><span class="o">.</span><span class="n">V3</span><span class="p">(</span><span class="n">tag_pt</span><span class="p">))</span>
          <span class="k">return</span> <span class="n">model_evaluated</span>

      <span class="n">error</span> <span class="o">=</span> <span class="n">inject_values</span><span class="p">(</span><span class="n">error_model</span><span class="p">)</span>
      <span class="n">Je_rot</span> <span class="o">=</span> <span class="n">inject_values</span><span class="p">(</span><span class="n">Je_rot_model</span><span class="p">)</span>
      <span class="n">Je_trans</span> <span class="o">=</span> <span class="n">inject_values</span><span class="p">(</span><span class="n">Je_trans_model</span><span class="p">)</span>

  <span class="k">return</span> <span class="n">error</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(),</span> <span class="n">Je_rot</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(),</span> <span class="n">Je_trans</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
</code></pre></div>        </div>
      </li>
      <li>ì°¸ê³ ë¡œ ì—¬ê¸°ì— ì“°ì´ëŠ” <code class="language-plaintext highlighter-rouge">error_model</code>, <code class="language-plaintext highlighter-rouge">Je_rot_model</code>, <code class="language-plaintext highlighter-rouge">Je_trans_model</code> ë“±ì€ ì•„ë˜ ì½”ë“œì™€ ê°™ì´ í¸í•˜ê²Œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="c1"># Model parameters (as symbolic)
</span>  <span class="n">transvec</span> <span class="o">=</span> <span class="n">sf</span><span class="o">.</span><span class="n">V3</span><span class="o">.</span><span class="n">symbolic</span><span class="p">(</span><span class="s">"t"</span><span class="p">)</span>
  <span class="n">rotvec</span>   <span class="o">=</span> <span class="n">sf</span><span class="o">.</span><span class="n">V3</span><span class="o">.</span><span class="n">symbolic</span><span class="p">(</span><span class="s">"Theta"</span><span class="p">)</span> <span class="c1"># i.e., angle-axis parametrization
</span>  <span class="n">rotmat</span>   <span class="o">=</span> <span class="n">LieGroupOps</span><span class="o">.</span><span class="n">from_tangent</span><span class="p">(</span><span class="n">sf</span><span class="o">.</span><span class="n">Rot3</span><span class="p">,</span> <span class="n">rotvec</span><span class="p">)</span> <span class="c1"># for debug, display(rotmat.to_rotation_matrix())
</span>
  <span class="c1"># Redisual (loss function)
</span>  <span class="c1">#  note: the rotation 'matrix' is used to formulate the below constraint,
</span>  <span class="c1">#        but it was parametrized as a 3-dim vector 'rotvec'!
</span>  <span class="n">p_src</span>        <span class="o">=</span> <span class="n">sf</span><span class="o">.</span><span class="n">V3</span><span class="o">.</span><span class="n">symbolic</span><span class="p">(</span><span class="s">"p_src"</span><span class="p">)</span>     <span class="c1"># p means a single 3D point
</span>  <span class="n">p_tgt</span>        <span class="o">=</span> <span class="n">sf</span><span class="o">.</span><span class="n">V3</span><span class="o">.</span><span class="n">symbolic</span><span class="p">(</span><span class="s">"p_tgt"</span><span class="p">)</span>
  <span class="n">p_tgt_est</span>    <span class="o">=</span> <span class="p">(</span><span class="n">rotmat</span> <span class="o">*</span> <span class="n">p_src</span><span class="p">)</span> <span class="o">+</span> <span class="n">transvec</span> <span class="c1"># The constraint: R*p + t == p'
</span>
  <span class="n">error_val</span> <span class="o">=</span> <span class="n">p_tgt_est</span> <span class="o">-</span> <span class="n">p_tgt</span>

  <span class="k">def</span> <span class="nf">loss</span><span class="p">(</span><span class="n">error_V3</span><span class="p">):</span>
      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
          <span class="n">error_V3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">sf</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">error_V3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">error_V3</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
      <span class="k">return</span> <span class="n">error_V3</span>

  <span class="n">error_model</span> <span class="o">=</span> <span class="n">loss</span><span class="p">(</span><span class="n">error_val</span><span class="p">)</span>

  <span class="c1"># residual jacobian
</span>  <span class="c1">#  this is the powerful moment of symforce. It automatically generate the Jacobian equations explicitly.
</span>  <span class="n">Je_trans_model</span> <span class="o">=</span> <span class="n">error_model</span><span class="o">.</span><span class="n">jacobian</span><span class="p">(</span><span class="n">transvec</span><span class="p">)</span>
  <span class="n">Je_rot_model</span> <span class="o">=</span> <span class="n">error_model</span><span class="o">.</span><span class="n">jacobian</span><span class="p">(</span><span class="n">rotvec</span><span class="p">)</span>
</code></pre></div>        </div>
        <ul>
          <li><code class="language-plaintext highlighter-rouge">V3</code>ë“±ì€ 3 dimension vector ë¥¼ ì˜ë¯¸í•œë‹¤. ì´ë ‡ë“¯ SymForce ì—ì„œ ì§€ì›í•˜ëŠ” symbolic class ë¡œ ë³€ìˆ˜ë¥¼ ì˜ ì´ì–´ë¶™ì—¬ì„œ error function ì„ ì •ì˜í•´ì£¼ê³ , ì—¬ê¸°ì— <code class="language-plaintext highlighter-rouge">.jacobian(w.r.t what)</code> ë¼ê³ ë§Œ í•´ì£¼ë©´ ì¤€ë¹„ ë.
            <ul>
              <li>ps. ì—¬ê¸°ì„œ <code class="language-plaintext highlighter-rouge">rotvec</code>, <code class="language-plaintext highlighter-rouge">rotmat</code> ë“±ì˜ ì°¨ì´ì— ëŒ€í•´ ë°°ê²½ì§€ì‹ì„ êµ¬ë¹„í•˜ê¸° ìœ„í•´ì„œëŠ” ì•ì„œë„ ì´ì•¼ê¸°í–ˆì§€ë§Œ rotation ê´€ë ¨ ìë£Œ(<a href="https://arxiv.org/abs/1812.01537">A micro Lie theory for state estimation in robotics</a>, <a href="https://arxiv.org/abs/1711.02508">Quaternion kinematics for the error-state Kalman filter</a>)ë¥¼ ì°¸ê³ í•˜ë„ë¡ í•˜ì.</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="ê²°ê³¼">ê²°ê³¼</h3>

<ul>
  <li>ê·¸ë˜ì„œ <code class="language-plaintext highlighter-rouge">icp</code> í•¨ìˆ˜ë¥¼ ìˆ˜í–‰í•˜ë©´, ë‹¤ìŒ ê²°ê³¼(ìº¡ì²˜)ì™€ ê°™ì´ ì„ì˜ë¡œ ì²˜ìŒì— ê°€í–ˆë˜ transformationê³¼ ìµœì í™”í•´ì„œ ì°¾ì€ ì˜ˆì¸¡ê°’ì´ ë™ì¼í•¨ì„ ì•Œ ìˆ˜ ìˆë‹¤.
    <p align="center">
       <img src="/assets/data/2022-07-10-symforce_icp/result.png" width="650" />
  </p>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">diff_SE3</code> ê°’ì„ ë‹¬ë¦¬í•´ê°€ë©´ì„œ ì²´í—˜í•´ë³´ê¸¸ ë°”ë€ë‹¤! ê·¸ë˜ë„ ëŠ˜ ê°™ì€ ê°’ì„ ì˜ ì˜ˆì¸¡í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.
        <ul>
          <li><a href="https://youtu.be/FG6bi5bAbTY">ì—¬ê¸° ìœ íŠœë¸Œ ì˜ìƒ</a>ì—ì„œ ìˆ˜ë ´ê³¼ì •ì„ ì‹œê°í™”í•˜ì˜€ë‹¤.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h1 id="ê²°ë¡ ">ê²°ë¡ </h1>
<h2 id="ìš”ì•½">ìš”ì•½</h2>
<ol>
  <li>SymForce ëŠ” ë¡œë³´í‹±ìŠ¤ ë¬¸ì œë¥¼ í’€ ë•Œ í•„ìš”í•œ ìì½”ë¹„ì•ˆì„ ì˜ ìƒì„±í•´ì¤€ë‹¤.</li>
  <li>Gauss-Newton pipeline ì„ êµ¬ì„±í•´ë³¼ ë•Œ ê°€ì¥ ì• ë¨¹ëŠ” ë¶€ë¶„ì´ Jacobian ì„ êµ¬í•˜ëŠ” ë¶€ë¶„ì¸ë°, ì´ ë¶€ë¶„ì„ ìº¡ìŠí™”í•˜ê³  ë‚˜ë‹ˆ, nonliear update pipeline ì„ êµ¬í˜„í•˜ëŠ” ë° ì¢€ ë” ì§‘ì¤‘í•˜ì—¬ ìµœì í™” ê³¼ì •ì„ ë” ì˜ íŒŒì•…í•´ë³¼ ìˆ˜ ìˆë‹¤.
    <ul>
      <li>ì „ì²´ ì½”ë“œëŠ” <a href="https://github.com/gisbi-kim/symforce-tutorials/blob/main/nonlinear_icp/1_nonlinear_icp_SE3/nonlinear_icp_SE3.ipynb">ì—¬ê¸° (link)</a> ì„œ ë³¼ ìˆ˜ ìˆë‹¤</li>
      <li>ps. ë³µì¡í•œ nonlinear cost ì˜ Jacobian êµ¬í•˜ëŠ” ê²ƒë¶€í„° ì‹ ê²½ì“°ê²Œ ë˜ëŠ” ê²ƒì€ ì…ë¬¸ì ì…ì¥ì—ì„œ (ìˆ˜í•™ì ìœ¼ë¡œ) ì–´ë µë‹¤. ê·¸ë ‡ë‹¤ê³  ì´ë¥¼ íšŒí”¼í•˜ë‹¤ ë³´ë©´, ë§¤ë²ˆ ë„ˆë¬´ ì‰¬ìš´ ì˜ˆì œë§Œì„ ë‹¤ë£¨ê²Œ ëœë‹¤. ì¦‰ ë¡œë³´í‹±ìŠ¤ ì‹¤ì „ ë¬¸ì œ ì¤‘ í•­ìƒ ì¼ë¶€ë§Œ ë‹¤ë£¨ê²Œ ë˜ê±°ë‚˜ 2D space ì— í•œì •ë˜ë¯€ë¡œ ì•„ì‰½ë‹¤.. (e.g., 2Dì—ì„œì˜ differential wheel motion ë“±).</li>
    </ul>
  </li>
</ol>

<h2 id="todo"><a name="todo"></a>TODO</h2>
<ul>
  <li>ê³µë¶€ì‚¼ì•„ Gauss-Newton update ê³¼ì •ì„ êµ¬ì„±í•´ë³´ì•˜ì§€ë§Œ, ì•„ë§ˆ optimizer ë¼ëŠ” class ë¡œ ì´ëŸ° ê³¼ì •ë“¤ì´ ì´ë¯¸ wrapping ë˜ì–´ìˆëŠ” ë“¯ í•˜ë‹¤. SymForce ê°€ ì œê³µí•˜ëŠ” <a href="https://github.com/symforce-org/symforce#build-an-optimization-problem">ì¡°ê¸ˆ ë” high-levelì—ì„œì˜ optim API</a>ë¥¼ ì‚¬ìš©í•´ë³´ì</li>
  <li>Cauchy kernel ì„ ì”Œì›Œì„œ loss function ì„ from scratchë¡œ êµ¬í˜„í•´ë³´ì. ê·¸ë¦¬ê³  noisy í•œ correspondences pairs ê°€ ì£¼ì–´ì¡Œì„ ë•Œ robust kernel ì—¬ë¶€ì— ë”°ë¥¸ ê°•ê±´ì„± ì°¨ì´ë¥¼ ì‹¤ìŠµí•´ë³´ì. ê·¸ë¦¬ê³  <a href="https://symforce.org/search.html?q=gnc">GncOptimizer</a>ë„ ì‚¬ìš©í•´ë³´ì.</li>
  <li>Automatically generated C++ code ê¸°ì¤€ Ceres ì™€ì˜ ì†ë„ì°¨ì´ë¥¼ ì‹¤ì œë¡œ í…ŒìŠ¤íŠ¸í•´ë³´ì.</li>
</ul>

<!-- --- -->

  </div>

  <hr style="border:1px foo rgb(193, 198, 200)"><div id="disqus_thread" style="margin-top:25px"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'http://localhost:4000/slam/2022/07/10/symforce_icp.html';
      this.page.identifier = 'http://localhost:4000/slam/2022/07/10/symforce_icp.html';
    };
    (function () {
      var d = document, s = d.createElement('script');
      s.src = 'https://robotics.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments
      powered by Disqus.</a></noscript></div>

    </section>
    <footer class="condensed">
      <ul class="social about-footer condensed"><a href="https://www.linkedin.com/in/giseop-kim-71683088" target="_blank">
          <li>
            <i class="icon-linkedin-squared"></i>
          </li>
        </a><a href="https://scholar.google.com/citations?user=9mKOLX8AAAAJ&hl=ko&oi=ao" target="_blank">
          <li>
            <i class="ai ai-google-scholar"></i>
          </li>
        </a><a href="https://github.com/gisbi-kim" target="_blank">
          <li>
            <i class="icon-github-circled"></i>
          </li>
        </a><a href="https://bit.ly/giseopkim" target="_blank">
          <li>
            <i class="fa fa-user" style="font-size: 2.09em;"></i>
            <!-- <i> notion</i> -->
            <!-- <i class="fa fa-user"></i> -->
          </li>
        </a><a href="https://youtube.com/channel/UCrmVMJ3KEFbDD9EtnAmDT6g" target="_blank">
          <li>
            <i class="icon-youtube"></i>
          </li>
        </a></ul><p class="about-footer condensed">&copy;
        2023</p><div class="about-footer condensed">
        <p>Dark Mode
          <i class="icon-moon"></i>
          <label class="switch">
            <input type="checkbox" class="dark-mode-toggle">
            <span class="slider round" onclick="toggleDarkMode()"></span>
          </label>
        </p>
      </div>
    </footer>
  </main>
  
  <script type="text/javascript" src="/assets/js/darkmode.js"></script>
  
  <script src="/assets/js/simple-jekyll-search.min.js"></script>
  <script src="/assets/js/search.js"></script>
  
</body>

</html>
