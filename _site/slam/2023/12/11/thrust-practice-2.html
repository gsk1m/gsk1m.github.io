<!DOCTYPE html>
<html lang="en">

<head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link rel="stylesheet" href="/assets/css/style.css">
<link rel="stylesheet" href="/assets/css/academicons-1.9.2/css/academicons.css">
<link rel="stylesheet" href="/assets/css/fontawesome-free-6.1.1-web/css/all.css">
<link href="https://fonts.googleapis.com/css?family=Merriweather:300|Raleway:400,700" rel="stylesheet">

<title>ğŸŒˆ CUDA í”„ë¡œê·¸ë˜ë°: Thrust ì‹¤ìŠµ 2í¸ (Feat. godbolt)</title>

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>ğŸŒˆ CUDA í”„ë¡œê·¸ë˜ë°: Thrust ì‹¤ìŠµ 2í¸ (Feat. godbolt) | Giseop Kim Blog</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="ğŸŒˆ CUDA í”„ë¡œê·¸ë˜ë°: Thrust ì‹¤ìŠµ 2í¸ (Feat. godbolt)" />
<meta name="author" content="Giseop Kim" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Compiler Explorer (godbolt) ì—ì„œ í¸í•˜ê²Œ ì—°ìŠµí•˜ì ë‚œ CUDA ë° Thrust ê³µë¶€ë¥¼ ë¹ ë¥´ê³  í¸í•˜ê²Œ + ì–´ë””ì—ì„œë‚˜ í•˜ê³ ì‹¶ì§€ ë¹Œë“œí™˜ê²½ì„ êµ¬ì¶•í•˜ëŠ” ê±´ ê·€ì°®ë‹¤â€¦ ë¼ëŠ” ë§ˆìŒì´ ë“¤ ë•Œ" />
<meta property="og:description" content="Compiler Explorer (godbolt) ì—ì„œ í¸í•˜ê²Œ ì—°ìŠµí•˜ì ë‚œ CUDA ë° Thrust ê³µë¶€ë¥¼ ë¹ ë¥´ê³  í¸í•˜ê²Œ + ì–´ë””ì—ì„œë‚˜ í•˜ê³ ì‹¶ì§€ ë¹Œë“œí™˜ê²½ì„ êµ¬ì¶•í•˜ëŠ” ê±´ ê·€ì°®ë‹¤â€¦ ë¼ëŠ” ë§ˆìŒì´ ë“¤ ë•Œ" />
<link rel="canonical" href="http://localhost:4000/slam/2023/12/11/thrust-practice-2.html" />
<meta property="og:url" content="http://localhost:4000/slam/2023/12/11/thrust-practice-2.html" />
<meta property="og:site_name" content="Giseop Kim Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-12-11T08:00:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="ğŸŒˆ CUDA í”„ë¡œê·¸ë˜ë°: Thrust ì‹¤ìŠµ 2í¸ (Feat. godbolt)" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Giseop Kim"},"dateModified":"2023-12-11T08:00:00+09:00","datePublished":"2023-12-11T08:00:00+09:00","description":"Compiler Explorer (godbolt) ì—ì„œ í¸í•˜ê²Œ ì—°ìŠµí•˜ì ë‚œ CUDA ë° Thrust ê³µë¶€ë¥¼ ë¹ ë¥´ê³  í¸í•˜ê²Œ + ì–´ë””ì—ì„œë‚˜ í•˜ê³ ì‹¶ì§€ ë¹Œë“œí™˜ê²½ì„ êµ¬ì¶•í•˜ëŠ” ê±´ ê·€ì°®ë‹¤â€¦ ë¼ëŠ” ë§ˆìŒì´ ë“¤ ë•Œ","headline":"ğŸŒˆ CUDA í”„ë¡œê·¸ë˜ë°: Thrust ì‹¤ìŠµ 2í¸ (Feat. godbolt)","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/slam/2023/12/11/thrust-practice-2.html"},"url":"http://localhost:4000/slam/2023/12/11/thrust-practice-2.html"}</script>
<!-- End Jekyll SEO tag -->


<script type="text/javascript" src="/assets/js/darkmode.js"></script>


<!-- fabicon -->
<link rel="icon" type="image/png" href="/assets/icon/me.png">
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        TeX: {
          equationNumbers: {
            autoNumber: "AMS"
          }
        },
        tex2jax: {
        inlineMath: [ ['$', '$'] ],
        displayMath: [ ['$$', '$$'] ],
        processEscapes: true,
      }
    });
MathJax.Hub.Register.MessageHook("Math Processing Error",function (message) {
        alert("Math Processing Error: "+message[1]);
    });
MathJax.Hub.Register.MessageHook("TeX Jax - parse error",function (message) {
        alert("Math Processing Error: "+message[1]);
    });
</script>
<script type="text/javascript" async
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
    
</head><body>
  <main class="container">
    <section class="about">
      <div class="about-header condensed">
      <div class="about-title">
      <a href="/">
        
        <img src="/assets/giseopkim_thermal.png" alt="Giseop Kim" />
        
      </a>
      <h2 id="title">
        <a href="/">Giseop Kim</a>
      </h2>
      </div><p class="tagline">SLAM Engineer</p></div>
      
      <ul class="social about-footer condensed"><a href="https://www.linkedin.com/in/giseop-kim-71683088" target="_blank">
          <li>
            <i class="icon-linkedin-squared"></i>
          </li>
        </a><a href="https://scholar.google.com/citations?user=9mKOLX8AAAAJ&hl=ko&oi=ao" target="_blank">
          <li>
            <i class="ai ai-google-scholar"></i>
          </li>
        </a><a href="https://github.com/gisbi-kim" target="_blank">
          <li>
            <i class="icon-github-circled"></i>
          </li>
        </a><a href="https://bit.ly/giseopkim" target="_blank">
          <li>
            <i class="fa fa-user" style="font-size: 2.09em;"></i>
            <!-- <i> notion</i> -->
            <!-- <i class="fa fa-user"></i> -->
          </li>
        </a><a href="https://youtube.com/channel/UCrmVMJ3KEFbDD9EtnAmDT6g" target="_blank">
          <li>
            <i class="icon-youtube"></i>
          </li>
        </a></ul><p class="about-footer condensed">&copy;
        2023</p><div class="about-footer condensed">
        <p>Dark Mode
          <i class="icon-moon"></i>
          <label class="switch">
            <input type="checkbox" class="dark-mode-toggle">
            <span class="slider round" onclick="toggleDarkMode()"></span>
          </label>
        </p>
      </div>
    </section>
    <section class="content">
      <div class="post-container">
  <a class="post-link" href="/slam/2023/12/11/thrust-practice-2.html">
    <h2 class="post-title">ğŸŒˆ CUDA í”„ë¡œê·¸ë˜ë°: Thrust ì‹¤ìŠµ 2í¸ (Feat. godbolt)</h2>
  </a>
  <hr style="border:1px foo rgb(193, 198, 200)">
  <div class="post-meta">
    <div class="post-date"><i class="icon-calendar"></i>Dec 11, 2023</div><ul class="post-categories"><li>SLAM</li></ul></div>
  <div class="post">
    <h1 id="compiler-explorer-godbolt-ì—ì„œ-í¸í•˜ê²Œ-ì—°ìŠµí•˜ì">Compiler Explorer (godbolt) ì—ì„œ í¸í•˜ê²Œ ì—°ìŠµí•˜ì</h1>
<ul>
  <li>ë‚œ CUDA ë° <a href="https://godbolt.org/z/jMYs16nGq">Thrust ê³µë¶€ë¥¼ ë¹ ë¥´ê³  í¸í•˜ê²Œ + ì–´ë””ì—ì„œë‚˜</a> í•˜ê³ ì‹¶ì§€</li>
  <li>ë¹Œë“œí™˜ê²½ì„ êµ¬ì¶•í•˜ëŠ” ê±´ ê·€ì°®ë‹¤â€¦</li>
  <li>ë¼ëŠ” ë§ˆìŒì´ ë“¤ ë•Œ</li>
</ul>

<h2 id="í‹°ì €">í‹°ì €</h2>
<ul>
  <li>â€¦ ë¼ëŠ” ë§ˆìŒì´ ë“¤ ë•Œ</li>
  <li>ì•„ë˜ì²˜ëŸ¼ ì‹¤ìŠµì„ í•˜ë©´ ëœë‹¤.
    <iframe width="1100px" height="700px" src="https://godbolt.org/e?readOnly=true#z:OYLghAFBqd5QCxAYwPYBMCmBRdBLAF1QCcAaPECAMzwBtMA7AQwFtMQByARg9KtQYEAysib0QXACx8BBAKoBnTAAUAHpwAMvAFYTStJg1DIAruiakl9ZATwDKjdAGFUtEywZ7HAGTwNMAHLuAEaYxCAArKQADqgKhHYMLm4eerHxtgK%2B/kEsoeFRVpg2iUIETMQEye6eXJaY1pkMZRUE2YEhYZGW5ZXVqXUKvW1%2BHXldEQCUlqgmxMjsHAD0AFQApBoAggDUu9sExACe%2B5hD24ezxFZUYGAbO3sIBATRCiBLS8AYwa4EAHQkYBLABeS1UkgA4gB2ADMTCoAE4mPcVkt7uiAEwwvzINxYbZrGFOAgIYgmIZLLAANzwCwA%2BlTikRiH8EITsJjsQxcWZMASiSSyRTiIZ0KgWKz2ZycXi%2BYTiaTyQQlgdDAp%2BMQJWyYRytmssTLefyFULlUoAI4mRgLSU66Xc2XGuxDYiYVhSvUGh1G%2BXIFhMEkezb6rk8/HywVKpZoaKHW264NesNyommcx0smCPBseP25PGxk2EhB%2B4fAnYYMAIQia02TjW2Hrmy4a0rGgb9crGNbkgbldrNcrTnLTfbCJrjbWCIAIlOABwN2fj%2BcdqdQ2vDmHT8uzucAMQ3q5nrYX2F3VdP/c2g%2BHDarNbrfdrCJ7I9r3bn9bPU5bCK/V9/W9sH7SsYTWOd22/BEXwRBcthdEwbG2AAVVAhGiBAwlpMQCShfstj2bY0AYM4qFoVAA22AB3PB0BJUhtkwvBgCeQl8ODAi9lQ9DMOIbDaGocjKKohiyIoghGMmbYQGo2iSQgKjpkYzBmKeCAECktY8K02c9U43Y6TpalaUwQztjEgMMW2VBojCAMSAgSZBPEmFtliPwCE07T9MI8yhIkkV8HJfltwUc1KioCB3MEP5VG2FY3NQDzYoJDFK0S5LjgS6L/mOfV0pyv5gXijKYuBSY2PuXy9gsiSmGBbMTBJELtgDQwMUiwrDgYwrVAqmF2Oq3Zau2BpMCpANEhapg0HVKKkrK7Ylm2QK8HJfr2KqoayyfNtnyPes517CtW3bOcWxO0DWyAqswM2SD%2B33cDjqvG832PSsXtrA9K1PJt1wgt9Ng/L8l0Ap9mynICQLAiDFynGC4IeaqRpMFqIHqxrmvy7YAFk6WUABJKTlogKyEvxompISmi6O1QahpGqkWrGiamiWvGCcJkqmJYghKp8wjXQIOYGG2f0AGtTNqjEIBMBiqQ2rbdh09EoVnAb0S2HbgMPT6jw5BELvrP9np3cCD0fScPtPc8TzfOcwOPScjtbY2p13SR3sO46lxrP9y3vQ9J0hvbJy7Ht7gQpCACVRXFZQFoICFGDs5lcIZ3YTBI5j/HQbYPO2JRMHQAWOOR7Y44YMUWETjyU/8EVmTlnPgDzgvBCLqSZOL9AIAULz%2B3VrWK8M4z6TpPyXOs2ym4cpziLObP4jbkuO4khgpMXiStMz3zIyGEAQCwKgmBMWgCAzeOWDpRhgFGFajH7zAS6VwW9gPggj%2BzvANRv10xBGTwC6PAwQmqJHlLVdk2x8BDAgAAWi4BoP4GgGJIJQW/CuQsjB/FgaIYgfdN5l2Vr5YWotxZMClnSWqMIICwIIBAYgRglL0MYcwhirCmHAEmJgwiqs9TD01npTYVIkr52iHxQQuNMAsBIIcRQTBgCYAgNvIiCAKgJSGIozAg8SHxGBKZCSVBXSmWCIcAgmAy6EX0YY/YqByi0DpGYixVi9hpiYNgYgxASB0gku4ukWiRYKBau46RLAU4EEJgwfgEB9QADZjEvyceYzADF4lEAcckixmCSG/22CoswTAhCIQWAoYJtxCTbn8YE9au8SGEQkR5SK%2BoMSeO8eEIihSwkRKifwcyTA6AKDSRiCIwS1gRCcAwFpDF3ERLaSQMokjgAFPTDUgevChqYFUIQCAXANkq2HsIwiYoTDBHoOZExRlgjoxOWcnRiTTEpNcbsW55yMmAPQNcyp%2BTXk6PeY45xlihEV1%2BdsckJcrktX%2BZC%2BBFykmfOeW5SRBBmkYgxGEuRYKFDaNajvEZbwsVr2%2BfqCIVBRImJaiSqgeNKwMX%2BZSkZ1Lcb9gmVMtFpB6lDS0Uohi4L0CQuWkgjEkgUEcyFSK1BcLTKfLFRoYVorBVyolXS%2BxHzrmKvlRoWVmqcmHPLvcQu/o/COQziPQiZYITKDkA7OJ4FZwu17JWLggdTrgUgqOE8R4FybGOheV1PlC7jyBXvWZmACDTnGiZWJGI4lBv2Z08wEaaQLGUN46ISKbJhFsKcRFobw2RpTWmrNeBTjRriRIzNlQS1DJgQWnRiKhjoCPmgJqxp5SpQxIoPwwBtiWrkDJFpbaiQZtntmhQfxmBsCHcORtR9HC0GIT5MsTg5DTh2LtD8x0PVHRdXtOGId2y/S9bWX1nq9oBs7pmWwbAABqYRc2FJjtna9mAIl3quIkMtV7syYHffG2dKBZg7yJO2lpK612V2fT%2B7Y774j2A7dOlaUHb1hFlRoLV8pQNor%2BIOzDw7GHId/ahkl2wkEaBJqRjDIHh0AfnYuiuga%2BKMmIO%2Bh9iamNhDfWEODDAy3oA4yxsI/6CBNsA62vDt40XgZ2NOATMHuOJAHWixD/G8DMffWhqj9Zh0tJw8piTPyBMaZI2RijSDEO0ergu4FJCdo%2BVUTY3x2wAgtTI%2Bh9D9HCKFwYO4XxfFTgtRrDZnyGp8mFzwJU9sA0C7yh8zfA41a2IxbSvlCq3ksFuIEGcQutNsZbm2HEyQkreZPBapIOGwKhoJo8YyQQTmtGVAYkMGyiLCIjX%2BchaD3zJUNCYK8EunWp3dc89tZaR5Zz611hHH18M5wXgdk7e1Ps3act2O47AtWqgAIsWWhrnlWtuMKRtxgW23Q7fic16IOT367EaVImRciFFKOjRiUIGo%2BRiHIqIJoLTrsZd2DrK8nYt1TkNu7U2O7ZuWy/CbCbttwLzdmy2Sb/YPow6nFWB6U4nZAUOot1crsnWrf2IqQ%2Bx860MiZMWIkNDoH8pygoCAAQ/tVfW5tmOxQSB9z2/Gvh6WquEU/kfVUJE/4QCF2JrMRg6SEDTtTpwy9c5rw8uyCA5GOU3YF1r3YEuW1S%2BADLixc9iDykV6vfOKudRM%2BmMT7XAv6dJ3HaEe%2BvGbea7t1VquNc66CAbnL4g4uf0QB87QWg0QDg8N53sfh/3qvHcEBztABD%2B5ECuwdtbR3NtCEONyUkAg8AGJTzZKPGfzDx4INgAw/X0CDeUfE3r1fa9NeGM34v6ei4iebUBxDLSEo%2B4kkoxuk0BD7B/UpqyBmG9KBr116jkmrIsAUOMyZLT28da6yl/LU%2BBs/pG9VHWu5ofjc9d%2BOb9skeR11mjo8mOnwIhxxDN6d5WwPn/PtT6QMQbwyNlDCGgFywwxurf6IzE4S5BqU5Fgm407%2BTdg6gwIy7%2BhKJ0hoBc6M7M576%2BRs4naJ5c4p6tAl6mru4fyk5fwgAi7qgkAsB0J0gM5/DO7GosI0GO5/COCOQcIIHaLIGoCoF0GYAu5sEoRoQYRYSiACS5YIAMQlaeQEEx6s6Z7YGc7J6XYEFYGCDZ657eIMAF7KLKHt6qEV5V7T615lrb4z5sDN6tCt5p6VZcqd5ibAbabz4JQ8QiE4TkF/zD5iwvrj6IamG1497KaL7L5sqwF7yC6qq0D%2BH5TfJ%2BG77Bax53YEAYpHBPZ15orwhG6tSh6oDfYQJoos6ja7rdhhy3TXSP7XTmywQn6HTBgzan5%2Bq6yQwBy7RgTVgE7diPia4AaFjMiQL%2BRgRwEIBMEeRoEEHdFU5QFOAyzQJDHZicEoEEKjF6HyEJ6KHc7DAyH87a6642SHDUG0H0Gu7sG0GsFKRDEHF8EMEEGC4kFd6xjUFzFIELHoBO6XFHHwGPGmTPHjqnGSEcFPHcGLG8H8E8Lt6yFDT6E4FKGp4qErHCA57IB55aGF66E2HVT6GV59ZGFB716GE77mEd6WEd5t5om%2BQAYtoOFYYYgJQuCxjdp2KMRxASTeEIaT54lmEpiOEIZBGsqr6knhEOJRGb7bixFsAYHmpjZQQLhHouy1G%2BwI7VFrhTjurPRQxFGuqXStG46ti2qmyNHtjXj5LH4f67S2r7ogRmkg7HiAwE6o5fi36Q7hzeruz3RTgRAAHgSHQqmOzgTg7rgIjem9jNEHq/7Wwvi/QVSa5lihb9zaFOZ4AtRRbpQJntpkZJYRYpZpS6JRnLTWJ2EUkBEYj96slz4FyFkyQvaIbnGO7jKVgRYRDTgpQGbTIllcnVkjG1n1mNl5Slktm4alntmCBL4RB1njKNnFTNn5Gr45ke4qy9nKbwLQKEyIF8guCoEVn9ltn/FfGAkvGdljlNnzkYjDIT4DnblcGoH7kNl/A9lcm/abntqWboDWZhF7A7R6rE46zbog4RwmkuwLhVFQRmkIgOx2nP57peyriVi6lv6unXjE7knd6TkYioQOKjSqDFDgIj4skPnDrr5DZHnizDkr5orilvmSmw6X4gQdHyln6/TmyfiengWOq9ia76ERouioB7E87LFl6bYcUHBcVF7WF7wx4kJkJMLbBJlqy6T6razrBbCbBCC4zbCD5pxTRoAsDRB0CoYSV5wyTthbDYAYWmDsxgJ0D5yaXaX0DEArRhqiwlwGX3CpqoDAAigsB2UixMKOVSUjxdpGC9pWoyTISnAGAoSsV1iro7BPpZhTqwaKakYYh/DdhbDSbbCyZqaobxXwZcBJUpXlxKUqVqVNwaXijWW6X2XeVNq%2BVGUmVYVizmW0CWVlU6W2V6U%2BWGWbAuVuWsCeUOXVWdXJHHDkg4qURvYkAfbZG5HwZ8quYaARAoLubobkovyublYjJ/ARBxIjLoY0oqpoXfJSD37IJbU7VarMrOVJyqWpwlXYVj6kZ/BzhPUxpEX3AuF8SiH7Aiii6UGeGj5sAyRcCPUwgYiOyvVbBDVYqjV1RUCZGfY5GeEySzXfIYjzWLVLUrUpjbhSBQgbWnURC7XMr7U4SHWSDHWbXbUE3nXsS0mHD0lECMlnAsmSCwh/AwhQhexBFbDFkaAVlA0RCSAg3HnbDwJQh/BSBypRAi1xJ/AIgc1ypSSLlwHLk4prmLF83nR/BxLnQMQwhbV/CSARBziRldVXVcAVmi3i1FYjIMTwIy1y3W220wgoJcAQR7Ii1LkrnbBq0vEVlQhziPXobSDbCg0ipziFYm3FkYgW323y3C3wLO0aCu1J221JWC3a3G0e3K1e0%2B0EoQCSBA1xIp0h1zhi0F2SCR1XUwgW2J3J11Ai1p0wgZ0MQIibVcBxK5WK2e2q27l51xKt2u0IjC0RAD0whzgIiV2FySAW2N3N3bCt0RDt25W21i0j0aBQhd3Z093rn5IE0LURB6261FZt0T2XWFwRAVkL1L3x2r0BlQgt0oKl1cAT1Z3YDbAq1KLe290VkjJA0F1xJoKSBJVyp7Jn2dxxIW233r0P0aBP0IgMRi1xJN2wib1v0f2rnf270E2PVzhS1cARBp3%2B2T2dxQiX2P1QjP0INa3IMwgr1a1cBQjjioPv052YMQAwhGzi1PW60Yhi0MPG1gMSRzh%2B3UNxKwh0Md2MNS3wILVD1AMYjMPoNf071kzH25VS0wjt1/Cwgb2CPz2QP0NSO22yPCrsoi1i1GwwiG2KOsMqNiNs0xrC1WMir36n3c1m2835IyOy2mM32y1cBWNS2t2OwYgIgV2v0sPb3q35JhObWC3125XIJFZxLEMSRcDm1eMWMBOG0P0hNhMMQLVzig0UM2NRO%2B271k0oI22kas1uOm2Fy5VkN5PB2FPFP13wJJUBMj2lOf250Vns0ioE3B0xoB1ooV16MBMVmtNP2p3i163wMi1A3j1Gwb0RNKN9P5Kh3JVmOg0LVN0KMTPT1eOdPzO21LPQQMMFNs0lNrO2PRMQAc0oIwgaALOPMUOMOpOkYX1ePnMrNXPs313O1QhQgRA3NK1oN3PlMQCL0iod0LP4MnUoMTMQO73XOAvaMgsUOzMEMaCaM9MYMqNj1p3L0h0Igy3oYHPuMNOkP5JAuYvtNJU4uaMMTAPr1xJTC3NlN50xrIIaAs1oJQgy1j0m0ohojCKrAOy9h1FXjBi4MMVH7Wxw6zZ%2BpbCwrIDRBozAAatviVjhnylhMVG7QviuzWy1EviKuvhPiMXmk6lAFTaWnGlfRzhXgiryvByUUyl2z0UE4AVzhAy6n2oOmQR%2BxUUWxmzFnFV/Uvq7panbDvX8RfVqgeHszRvH42nWxg5pv1hbCogcDTC0CcARC8CeAcBaCkCoCcBpX1iZnpQKCXALCpSaO8Bfylt5vTASwgCSBh1j1G3pOwNJ3pMAMFscCSDFuaC8AVscC8BvCoIttaDTBwCwAwCICAZaWtXkCUBWWtUgAMBUjIDIC5UYgmB1A0AXzcaUDBDjukDBB%2BAVCHBXs3vMBHAADywQ2gTInAPApAmlbAggz7DAtA97rbpAWAYCwATgn2bw3AvAWA/oRg4gwH%2BAroJQjIUHZbWymFFiV7HkDQV7tAoCIoRwLgWAV7CWLAn7ebfABgwACgN6JaVEz7tkJbX7/Aahoh7AUgMgggigKg6gwHugdQBgRgKAhS%2BgoCbwsAk67A%2B7uIpAzGZBmYEsPC5b4eiQUH8CFQiJlSzAtgjIE7zGfEWAEnbBRQJQ9gEAjg/QtQpAPgowuQ%2BQaQcQCQAgVnjnGQiQ7Q9nXQgwY0ZnzQwwrnPnjQpQwwnnnQ4QgwAXrgNQege2YX4wEX0wdbcwCwEg%2BbhbY7wHk7zmN6Tgw4uVyV4t%2BSuAhAJAjbeyzb47ynHbBN%2BgnAo7pA5HMIztzXrXbX7XADJbZbk707IAs7VXpAi7K7QGGrBAG7Fn%2BAzItEegrHwg7HEg0gs3PHagV7AnpAVEIo0QA3w7RbpAXXE7nAz7TUo31k1KAQuX%2BXeVRXEALga7Nl5XkwlXrbynmETAWA4QbBw7DX5Hgtj1oLAtzzDDqN2t99%2B35bnAvX/Xz3g3y76k5OyaqSFAKiLVNlAQrAiw53eXiVhXX7QaIAygyEAAGjZ5NyQNNye7ICIGIBx4t7IMt3x2W2t6Z00A4NXIFzZ9XPFw53UOkM50kNFwMDEE500Fz95/UMFwIC0H0AL9Z8zyF60KLxFz0K0Oz3F3Z%2BF2l6QAcC/NN%2Brjt5l915wEmiZDBvR6hpj5dzj8V6T7ZSGPXbd%2BVbb1iBV1r1V%2BlyO7wOR9hhBEbFiIVmEyPf7VEGDz15YH16789%2B25EAtUvQXU9UbLBE9Tk8OzCAbwd1OxH/O%2B7xiGn%2BDxn3O223JwpvYJIEAA%3D"></iframe>
  </li>
</ul>

<h2 id="ê°œìš”">ê°œìš”</h2>
<ul>
  <li>ìµœê·¼ (2023ë…„ 3ë¶„ê¸°) <a href="https://github.com/NVIDIA/thrust">thrust</a> ê°€ <a href="https://github.com/NVIDIA/cccl">CCCL (CUDA C++ Core Libraries)</a> ì´ë¼ëŠ” ìƒìœ„ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— í¸ì…ë˜ì—ˆë‹¤.</li>
  <li>thrust ëŠ” CUDA programming ì„ ì¢€ ë” modern C++ ìŠ¤ëŸ½ê²Œ í•  ìˆ˜ ìˆê²Œ ì§€ì›í•´ì£¼ëŠ” libraryì´ë‹¤.
    <ul>
      <li>ì˜ˆë¥¼ ë“¤ì–´, <a href="https://github.com/NVIDIA/cccl#example">ê³µì‹ ê¹ƒí—ˆë¸Œì— ìˆëŠ” ì˜ˆì œ</a>ë¥¼ ê°€ì ¸ì™€ ë³´ìë©´, ì»¤ìŠ¤í…€ ì»¤ë„ì„ ì‘ì„±í•˜ëŠ” ê²ƒë³´ë‹¤ í›¨ì”¬ ê°„ê²°í•˜ê³  ì•ˆì „í•˜ë‹¤.
        <p align="center">
  <img src="/assets/data/2023-12-10-thrust2/why-thrust.png" width="1300" />
</p>
      </li>
      <li>
        <p>ps. GPT4ì—ê²Œ thrust ì™€ ê°™ì€ ê³ ìˆ˜ì¤€ APIë¥¼ ì‚¬ìš©í•˜ë©´ ì¢‹ì€ì ì— ëŒ€í•´ ì¢€ ë” ì„¤ëª…ì„ ë¶€íƒí•´ë³´ì•˜ë‹¤.</p>

        <p>Thrustì™€ ê°™ì€ ê³ ìˆ˜ì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì»¤ìŠ¤í…€ CUDA ì»¤ë„ì„ ì§ì ‘ ì‘ì„±í•˜ëŠ” ê²ƒë³´ë‹¤ ëª‡ ê°€ì§€ ì¤‘ìš”í•œ ì¥ì ì´ ìˆìŠµë‹ˆë‹¤. ì—¬ê¸° ë‘ ê°€ì§€ë¥¼ í¬í•¨í•˜ì—¬ ëª‡ ê°€ì§€ ì¥ì ì„ ì„¤ëª…í•´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤:</p>

        <ol>
          <li>
            <p><strong>ìë™ ë™ê¸°í™” ê´€ë¦¬</strong>: Thrustì™€ ê°™ì€ ê³ ìˆ˜ì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ í•„ìš”í•œ ë™ê¸°í™”ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤. ì´ëŠ” í”„ë¡œê·¸ë˜ë¨¸ê°€ CUDA ìŠ¤íŠ¸ë¦¼ê³¼ ë™ê¸°í™” ë©”ì»¤ë‹ˆì¦˜ì— ëŒ€í•´ ì‹ ê²½ ì“°ì§€ ì•Šì•„ë„ ë˜ë„ë¡ í•´ì¤ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë°ì´í„°ê°€ GPUì—ì„œ CPUë¡œ ë˜ëŠ” ê·¸ ë°˜ëŒ€ë¡œ ì „ì†¡ë˜ëŠ” ê²½ìš°, ThrustëŠ” ì ì ˆí•œ ë™ê¸°í™” ì ì„ ìë™ìœ¼ë¡œ ì‚½ì…í•˜ì—¬ ë°ì´í„° ì¼ê´€ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.</p>
          </li>
          <li>
            <p><strong>ê°„ê²°í•˜ê³  ì½ê¸° ì‰¬ìš´ ì½”ë“œ</strong>: ThrustëŠ” C++ í‘œì¤€ í…œí”Œë¦¿ ë¼ì´ë¸ŒëŸ¬ë¦¬(STL)ê³¼ ìœ ì‚¬í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ì—¬, í”„ë¡œê·¸ë˜ë¨¸ê°€ ìµìˆ™í•œ í˜•ì‹ìœ¼ë¡œ GPU ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ì´ë ‡ê²Œ í•¨ìœ¼ë¡œì¨ ì½”ë“œì˜ ê°€ë…ì„±ê³¼ ìœ ì§€ ê´€ë¦¬ê°€ í–¥ìƒë˜ë©°, ì˜¤ë¥˜ ë°œìƒ ê°€ëŠ¥ì„±ì´ ì¤„ì–´ë“­ë‹ˆë‹¤.</p>
          </li>
          <li>
            <p><strong>íš¨ìœ¨ì ì¸ ë©”ëª¨ë¦¬ ê´€ë¦¬</strong>: ThrustëŠ” ìë™ ë©”ëª¨ë¦¬ ê´€ë¦¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ëŠ” í”„ë¡œê·¸ë˜ë¨¸ê°€ ë©”ëª¨ë¦¬ í• ë‹¹ê³¼ í•´ì œë¥¼ ì§ì ‘ ê´€ë¦¬í•˜ëŠ” ë³µì¡ì„±ì„ í”¼í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ë˜í•œ, ThrustëŠ” ë©”ëª¨ë¦¬ ì ‘ê·¼ íŒ¨í„´ì„ ìµœì í™”í•˜ì—¬ GPUì˜ ë©”ëª¨ë¦¬ ëŒ€ì—­í­ì„ íš¨ìœ¨ì ìœ¼ë¡œ í™œìš©í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.</p>
          </li>
          <li>
            <p><strong>ì„±ëŠ¥ ìµœì í™”</strong>: ThrustëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ë‹¤ì–‘í•œ ìµœì í™” ê¸°ë²•ì„ ì ìš©í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë³‘ë ¬ ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬í˜„ì—ì„œëŠ” ë¸”ë¡ í¬ê¸°, ê³µìœ  ë©”ëª¨ë¦¬ ì‚¬ìš© ë“± ì—¬ëŸ¬ ìš”ì†Œê°€ ìë™ìœ¼ë¡œ ìµœì í™”ë©ë‹ˆë‹¤. ì´ëŠ” í”„ë¡œê·¸ë˜ë¨¸ê°€ ì´ëŸ¬í•œ ì„¸ë¶€ ì‚¬í•­ì— ëŒ€í•´ ì‹ ê²½ ì“°ì§€ ì•Šê³ ë„ íš¨ìœ¨ì ì¸ GPU ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.</p>
          </li>
          <li>
            <p><strong>ë„“ì€ ë²”ìœ„ì˜ ë³‘ë ¬ ì•Œê³ ë¦¬ì¦˜ ì§€ì›</strong>: ThrustëŠ” ì •ë ¬, ê°ì†Œ, ìŠ¤ìº” ë“± ë‹¤ì–‘í•œ ë³‘ë ¬ ì•Œê³ ë¦¬ì¦˜ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ í”„ë¡œê·¸ë˜ë¨¸ëŠ” ë³µì¡í•œ ì•Œê³ ë¦¬ì¦˜ì„ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” GPU í”„ë¡œê·¸ë˜ë°ì˜ ì§„ì… ì¥ë²½ì„ ë‚®ì¶”ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.</p>
          </li>
          <li>
            <p><strong>íœ´ëŒ€ì„±ê³¼ í˜¸í™˜ì„±</strong>: Thrust ì½”ë“œëŠ” ë‹¤ì–‘í•œ CUDA ë²„ì „ê³¼ GPU ì•„í‚¤í…ì²˜ì—ì„œ í˜¸í™˜ë©ë‹ˆë‹¤. ì´ëŠ” í”„ë¡œê·¸ë¨ì´ ë‹¤ì–‘í•œ í•˜ë“œì›¨ì–´ ë° ì†Œí”„íŠ¸ì›¨ì–´ í™˜ê²½ì—ì„œë„ ì•ˆì •ì ìœ¼ë¡œ ì‘ë™í•˜ë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤.</p>
          </li>
        </ol>

        <p>ì¢…í•©ì ìœ¼ë¡œ, Thrustë¥¼ ì‚¬ìš©í•˜ë©´ í”„ë¡œê·¸ë˜ë¨¸ê°€ ë³µì¡í•œ í•˜ë“œì›¨ì–´ ì„¸ë¶€ ì‚¬í•­ì— ëŒ€í•´ ê±±ì •í•˜ì§€ ì•Šê³ , ê³ ì„±ëŠ¥ GPU ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë” ë¹ ë¥´ê³  ì‰½ê²Œ ê°œë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
      </li>
    </ul>
  </li>
  <li><a href="/slam/2023/04/09/thrust-practice-1.html">ì•ì˜ ë¸”ë¡œê·¸ íŠœí† ë¦¬ì–¼</a> ì—ì„œ ì§ì ‘ ë¹Œë“œí•˜ê³  ì‹¤ìŠµí•˜ëŠ” ì˜ˆì‹œë¥¼ í•˜ë‚˜ ë‹¤ë£¨ì—ˆì—ˆë‹¤.
    <ul>
      <li>ê·¸ëŸ°ë° C++ì€ ì°¸ ì¬ë°ŒëŠ”ë° ëŠ˜ ë¹Œë“œí™˜ê²½ êµ¬ì¶•í•˜ëŠ” ê²Œ ê·€ì°®ë‹¤. ê·¸ë˜ì„œ ê³µë¶€í•˜ëŠ” ë°ê¹Œì§€ ë§ˆìŒë¨¹ê²Œ ë˜ëŠ” ê²ƒì´ ì´ˆë³´ìë“¤ì—ê²Œ ì¥ë²½ì¸ ë“¯.</li>
      <li>ê²Œë‹¤ê°€ CUDAê³µë¶€ë¥¼ í•˜ê³  ì‹¶ìœ¼ë©´ NVIDIA GPUë¥¼ ê°€ì§€ê³  ìˆëŠ” ë¨¸ì‹ ì—ì„œ í•´ì•¼ í•˜ë‹ˆ, ë§Œì•½ ì´ëŸ° ë¨¸ì‹ ì„ ê°€ì§€ê³  ìˆì§€ ì•Šë‹¤ë©´ ì—­ì‹œ ì¥ë²½ì´ ë˜ê² ë‹¤.</li>
    </ul>
  </li>
  <li>ê·¸ë˜ì„œ Compiler Explorer ë¥¼ ì¶”ì²œí•œë‹¤.</li>
</ul>

<h2 id="compiler-explorer-ë€">Compiler Explorer ë€</h2>
<ul>
  <li>Compiler Explorer ëŠ” Matt Godbolt ë¼ëŠ” ë¶„ê»˜ì„œ ë§Œë“œì‹  íˆ´ë¡œì¨ ì˜¨ê°– ì–¸ì–´ì˜ ì»´íŒŒì¼ ë° ì‹¤í–‰ì„ ìˆ˜í–‰í•´ì£¼ëŠ” ì›¹ íˆ´ì´ë¼ê³  ë³´ë©´ ëœë‹¤.
    <ul>
      <li>í˜„ì¬ ë‹¤ì–‘í•œ ì–¸ì–´ë¥¼ ì§€ì›í•˜ê³  ìˆì§€ë§Œ ë³´í†µ C/C++ ìœ ì €ë“¤ì´ ë§ì´ ì‚¬ìš©í•˜ê³  ìˆë‹¤.</li>
      <li>ìƒì„¸í•œ ì—­ì‚¬ì— ëŒ€í•´ì„œëŠ” ì €ìì§ê°•ì˜ ë‹¤ìŒ ì˜ìƒì„ ì¶”ì²œí•œë‹¤.
        <ul>
          <li><a href="https://youtu.be/O5sEug_iaf4?si=1kIP2QyA9ZoWsNcQ">Whatâ€™s New in Compiler Explorer? - Matt Godbolt - C++ on Sea 2023</a></li>
        </ul>
      </li>
      <li>ì‚¬ìš©ì˜ˆì‹œ
        <ul>
          <li><a href="https://youtu.be/aC-aAiS5Wuc?si=p-BBBluttITKHEr0">C++ Weekly - Ep 332 - C++ Lambda vs std::function vs Function Pointer</a>
            <ul>
              <li>Lambda vs std::function vs Function Pointer ì˜ ì‹¤ì²´ëŠ” ë‹¤ë¥¼ê¹Œ? ì— ëŒ€í•´ì„œ ì„¤ëª…í•˜ê³  ì‹¶ì„ ë•Œ,
                <ul>
                  <li>ì»´íŒŒì¼ì„ í•´ë³´ê³  ì˜¤ë¥¸ìª½ ì°½ì— ë‚˜íƒ€ë‚˜ëŠ” í•­ëª©ì—ì„œ, ì–´ì…ˆë¸”ë¦¬ ì–¸ì–´ ìˆ˜ì¤€ì—ì„œ ë‹¤ë¥¸ ì´ìœ ë“¤ì„ ë¶„ì„í•´ì¤€ë‹¤! ì•„ë˜ëŠ” ì¢€ ì „ ìœ íŠœë¸Œ ìº¡ì²˜:
                    <p align="center">
  <img src="/assets/data/2023-12-10-thrust2/cppweekly.png" width="1000" />
</p>
                  </li>
                </ul>
              </li>
              <li>ê·¸ëŸ° ì„¤ëª…ë“¤ì„ í•  ë•Œ ìœ ìš©í•œ íˆ´ì´ ë˜ê² ë‹¤.</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>ps. URLë„ <a href="https://godbolt.org/">https://godbolt.org/</a> ì´ë©° ê·¸ë˜ì„œ ê·¸ëƒ¥ Compiler Explorerë¼ê³  ì•ˆë¶€ë¥´ê³  godbolt ë¼ê³  ë¶ˆë¦¬ê¸°ë„ í•œë‹¤.</li>
</ul>

<h3 id="ìš”ì•½">ìš”ì•½</h3>
<ul>
  <li>ì•”íŠ¼ ì—¬ê¸°ì—ì„œ í•˜ë ¤ê³  í–ˆë˜ ì´ì•¼ê¸°ëŠ” Compiler ExplorerëŠ” CUDA build (NVCC) and run ë„ ì§€ì›í•œë‹¤.</li>
</ul>

<h2 id="ì‹¤ìŠµ">ì‹¤ìŠµ</h2>
<ul>
  <li><a href="https://godbolt.org/z/x4G73af9a">NVCC ì»´íŒŒì¼ëŸ¬ë¥¼ ì„¸íŒ…í•´ë‘” ì´ ë§í¬</a> ë¡œ ë“¤ì–´ê°€ì.</li>
  <li>ê·¸ë¦¬ê³  <a href="https://github.com/gisbi-kim/thrust_examples/blob/main/three-dim-point-projection-to-image.cu">ì—¬ê¸°ì— ìˆëŠ” ì½”ë“œ</a> ë¥¼ ë³µì‚¬í•´ì„œ ë¶™ì—¬ë„£ì€ ë‹¤ìŒì—, ê²°ê³¼ë¥¼ ê´€ì°°í•˜ì.
    <ul>
      <li>ì´ ì˜ˆì‹œëŠ” point cloud ë¥¼ spherical image ì— projection í•˜ëŠ” ì˜ˆì œ ì½”ë“œì´ë‹¤.
        <ul>
          <li>ì¼ë°˜ì ìœ¼ë¡œ ìˆ˜ì‹­ë§Œ~ìˆ˜ë°±ë§Œ ê·¸ ì´ìƒì˜ í¬ì¸íŠ¸ì— ëŒ€í•´ CPUì—ì„œ ì´ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë ¤ë©´ ë§¤ìš° ëŠë¦´ ê²ƒì´ë‹¤.</li>
        </ul>
      </li>
      <li>êµ¬í˜„ì²´ë¥¼ ì¢€ ë” ë“¤ì—¬ë‹¤ë³´ì.</li>
    </ul>
  </li>
</ul>

<h3 id="êµ¬í˜„">êµ¬í˜„</h3>
<ul>
  <li><a href="https://github.com/gisbi-kim/thrust_examples/blob/main/three-dim-point-projection-to-image.cu">ì „ì²´ ì½”ë“œ</a> ì¤‘, ì‹¤ì œ ì‘ì—…í•˜ëŠ” ë¶€ë¶„ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
    <p align="center">
  <img src="/assets/data/2023-12-10-thrust2/impl1.png" width="1000" />
</p>
    <ul>
      <li>ì–´ë ¤ìš¸ ê²ƒì´ 1ë„ ì—†ëŠ” ì½”ë“œì´ë‹¤. Functor ì‘ì„±í•œ ë‹¤ìŒì— ::transform ì˜ ì¸ìë¡œ ë„£ì–´ì£¼ë©´ ë!
        <ul>
          <li>ê·¸ëŸ¬ë©´ <code class="language-plaintext highlighter-rouge">thrust::transform</code>ëŠ” arrayë¥¼ ìˆœíšŒí•˜ë©° ë™ì¼í•œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì•„ì£¼ ì „í˜•ì ì¸ functional programming style ì˜ êµ¬í˜„ì´ë‹¤.
            <ul>
              <li>ê·¸ëŸ°ë° ì´ì œ GPUì—ì„œì˜ ë³‘ë ¬ì²˜ë¦¬, ë¸”ë¡ ë‚˜ëˆ„ê¸°, ë™ê¸°í™”ê°™ì€ ê±¸  ì•Œì•„ì„œ ë‹¤ í•´ì£¼ëŠ”!</li>
              <li>ë‹´ëŠ” ìë£Œí˜•ì´ std::vectorê°€ ì•„ë‹ˆë¼ thrust::device_vector ë¼ëŠ” ê±¸ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒ ì •ë„ë§Œ ì‹ ê²½ì¨ì£¼ë©´ ëœë‹¤.</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>ps. ìœ„ì˜ êµ¬í˜„ì€ GPT4 ê°€ ë‹¤ í•´ì¤€ ê²ƒì´ë‹¤! See the <a href="https://chat.openai.com/share/dd336223-c23a-4d50-992b-d0edf340918d">ì‘ì—…ê¸°</a>
        <ul>
          <li>ë•ë¶„ì— cuda ë° thrust ì˜ API ì´ë¦„ë“¤ì„ ë‹¤ ëª¨ë¥´ëŠ” ìƒíƒœì—ì„œë„ ë°”ë¡œ ê³µë¶€ë¥¼ ì‹œì‘í•  ìˆ˜ ìˆì—ˆë‹¤.</li>
          <li>Tip: ë‹¤ë§Œ, í• ë£¨ì‹œë„¤ì´ì…˜ì´ë‚˜ ë¹Œë“œê°€ëŠ¥í•˜ì§€ ì•Šì€ (pseudo-like code) ì½”ë“œë¥¼ ì¤„ ë•Œê°€ ìˆëŠ”ë°, ê·¸ëŸ° ë¶€ë¶„ì´ ì§€ë‚œ ChatGPT ì¶œì‹œ 1ë…„ ë™ì•ˆì— ì½”ë“œ ì‘ì„±ì‹œ ë„ì›€ë°›ì„ ë•Œ ì•½ê°„ ìš°ë ¤ë˜ëŠ” ë¶€ë¶„ì´ê¸´ í–ˆë‹¤ (ì¶œì‹œ ì´í›„ ê³„ì† ë§ì´ ì¢‹ì•„ì§€ê¸´ í•¨). ê·¸ëŸ´ ë•Œ ê²€ì¦ìš©ìœ¼ë¡œ ë°”ë¡œ godbolt ì— ë¶™ì—¬ë„£ê³  ë¹Œë“œê°€ ë˜ëŠ”ì§€ í™•ì¸í•˜ë©´ì„œ ì™”ë‹¤ê°”ë‹¤ í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ê³µë¶€í•˜ë‹ˆ íš¨ìœ¨ì´ ì¢‹ì•˜ë‹¤.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="ì‹¤í—˜í™˜ê²½">ì‹¤í—˜í™˜ê²½</h3>
<ul>
  <li>í˜„ì¬ (2023.12.10) ë¬´ë ¤ 16Gì˜ T4 ìœ„ì—ì„œ (ë¬´ë£Œë¡œ) ì‹¤í–‰í•´ì£¼ê³  ìˆëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤â€¦ ã…ã…ã…</li>
  <li>í™•ì¸í•˜ë ¤ë©´ (ì´ëŸ°ê²ƒë„ GPT4ì—ê²Œ ë¬¼ì–´ë³´ë©´ ë‹¤ ì•Œë ¤ì¤€ë‹¤)
    <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c1">// GPU ì†ì„± ê°€ì ¸ì˜¤ê¸°</span>
  <span class="kt">int</span> <span class="n">device</span><span class="p">;</span>
  <span class="n">cudaGetDevice</span><span class="p">(</span><span class="o">&amp;</span><span class="n">device</span><span class="p">);</span>
  <span class="n">cudaDeviceProp</span> <span class="n">properties</span><span class="p">;</span>
  <span class="n">cudaGetDeviceProperties</span><span class="p">(</span><span class="o">&amp;</span><span class="n">properties</span><span class="p">,</span> <span class="n">device</span><span class="p">);</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Using GPU: "</span> <span class="o">&lt;&lt;</span> <span class="n">properties</span><span class="p">.</span><span class="n">name</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

  <span class="c1">// CUDA ë²„ì „ ê°€ì ¸ì˜¤ê¸°</span>
  <span class="kt">int</span> <span class="n">runtimeVer</span><span class="p">;</span>
  <span class="n">cudaRuntimeGetVersion</span><span class="p">(</span><span class="o">&amp;</span><span class="n">runtimeVer</span><span class="p">);</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"CUDA Runtime Version: "</span> <span class="o">&lt;&lt;</span> <span class="n">runtimeVer</span> <span class="o">/</span> <span class="mi">1000</span> <span class="o">&lt;&lt;</span> <span class="s">"."</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">runtimeVer</span> <span class="o">%</span> <span class="mi">100</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

  <span class="kt">int</span> <span class="n">driverVer</span><span class="p">;</span>
  <span class="n">cudaDriverGetVersion</span><span class="p">(</span><span class="o">&amp;</span><span class="n">driverVer</span><span class="p">);</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"CUDA Driver Version: "</span> <span class="o">&lt;&lt;</span> <span class="n">driverVer</span> <span class="o">/</span> <span class="mi">1000</span> <span class="o">&lt;&lt;</span> <span class="s">"."</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">driverVer</span> <span class="o">%</span> <span class="mi">100</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>ê²°ê³¼:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Using GPU: Tesla T4
  CUDA Runtime Version: 12.2
  CUDA Driver Version: 12.2
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="ì‹¤í—˜-ì„¸íŒ…">ì‹¤í—˜ ì„¸íŒ…</h3>
<ul>
  <li>Point ë¥¼ Nê°œ ëœë¤ ìƒì„±í•˜ê³ , ëŒ€ì¶© ì •í•œ ì´ë¯¸ì§€ (640x480) ì— projection í•˜ëŠ” ì˜ˆì‹œ.</li>
</ul>

<h3 id="ì‹¤í—˜-ê²°ê³¼-í™”ë©´">ì‹¤í—˜ ê²°ê³¼ í™”ë©´</h3>
<ul>
  <li>godbolt ì—ì„œ ìˆ˜í–‰ ì‹œ ë‹¤ìŒê³¼ ê°™ì´ ê²°ê³¼ë„ ì¶œë ¥ëœë‹¤.
    <p align="center">
  <img src="/assets/data/2023-12-10-thrust2/result.png" width="1500" />
</p>
  </li>
</ul>

<h3 id="ì‹¤í—˜-ê²°ê³¼-ìˆ˜í–‰-ì‹œê°„">ì‹¤í—˜ ê²°ê³¼ (ìˆ˜í–‰ ì‹œê°„)</h3>
<ul>
  <li>ê²°ê³¼ ê°’ ìì²´ëŠ” ì˜ˆì‹œì´ë‹ˆ í° ì˜ë¯¸ì—†ê³  ì‹œê°„ì„ ì¸¡ì •í•´ë³´ì.</li>
  <li><code class="language-plaintext highlighter-rouge">cudaEventRecord</code> ë¼ëŠ” ê±¸ ì‚¬ìš©í•˜ë©´ device (GPU)ì—ì„œ ì´ë£¨ì–´ì§€ëŠ” code blockì— ëŒ€í•´ì„œë„ ì‹œê°„ì„ ì¸¡ì •í•  ìˆ˜ ìˆë‹¤ê³  í•œë‹¤.
    <ul>
      <li>ì˜ˆì‹œ
        <p align="center">
  <img src="/assets/data/2023-12-10-thrust2/time_impl.png" width="750" />
</p>
      </li>
    </ul>
  </li>
  <li><strong>Varing <code class="language-plaintext highlighter-rouge">N</code></strong>, ê° 3ë²ˆì”© ìˆ˜í–‰:
    <ul>
      <li>N = 1000
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Memory usage at before allocation: used = 105.000000, free = 14825.562500 MB, total = 14930.562500 MB
  Memory usage at after allocation: used = 109.000000, free = 14821.562500 MB, total = 14930.562500 MB

  * Point generation time: 0.036864 ms
  * Spherical transformation time: 0.060384 ms
  * Copying to host time: 0.032896 ms
  Total execution time: 0.130144 ms

  * Point generation time: 0.016064 ms
  * Spherical transformation time: 0.017056 ms
  * Copying to host time: 0.02736 ms
  Total execution time: 0.06048 ms

  * Point generation time: 0.016192 ms
  * Spherical transformation time: 0.016768 ms
  * Copying to host time: 0.024384 ms
  Total execution time: 0.057344 ms
</code></pre></div>        </div>
      </li>
      <li>N = 10000
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Memory usage at before allocation: used = 105.000000, free = 14825.562500 MB, total = 14930.562500 MB
  Memory usage at after allocation: used = 109.000000, free = 14821.562500 MB, total = 14930.562500 MB

  * Point generation time: 0.038912 ms
  * Spherical transformation time: 0.057376 ms
  * Copying to host time: 0.091008 ms
  Total execution time: 0.187296 ms

  * Point generation time: 0.018336 ms
  * Spherical transformation time: 0.017312 ms
  * Copying to host time: 0.086208 ms
  Total execution time: 0.121856 ms

  * Point generation time: 0.018464 ms
  * Spherical transformation time: 0.01664 ms
  * Copying to host time: 0.086176 ms
  Total execution time: 0.12128 ms
</code></pre></div>        </div>
      </li>
      <li>N = 100000
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Memory usage at before allocation: used = 105.000000, free = 14825.562500 MB, total = 14930.562500 MB
  Memory usage at after allocation: used = 109.000000, free = 14821.562500 MB, total = 14930.562500 MB

  * Point generation time: 0.064512 ms
  * Spherical transformation time: 0.09008 ms
  * Copying to host time: 0.683456 ms
  Total execution time: 0.838048 ms

  * Point generation time: 0.042784 ms
  * Spherical transformation time: 0.045728 ms
  * Copying to host time: 0.723328 ms
  Total execution time: 0.81184 ms

  * Point generation time: 0.043008 ms
  * Spherical transformation time: 0.045056 ms
  * Copying to host time: 0.670624 ms
  Total execution time: 0.758688 ms
</code></pre></div>        </div>
      </li>
      <li>N = 1000000
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Memory usage at before allocation: used = 105.000000, free = 14825.562500 MB, total = 14930.562500 MB
  Memory usage at after allocation: used = 127.000000, free = 14803.562500 MB, total = 14930.562500 MB

  * Point generation time: 0.354464 ms
  * Spherical transformation time: 0.399936 ms
  * Copying to host time: 4.54739 ms
  Total execution time: 5.30179 ms

  * Point generation time: 0.323712 ms
  * Spherical transformation time: 0.342688 ms
  * Copying to host time: 4.5623 ms
  Total execution time: 5.2287 ms

  * Point generation time: 0.323584 ms
  * Spherical transformation time: 0.341408 ms
  * Copying to host time: 4.63437 ms
  Total execution time: 5.29936 ms
</code></pre></div>        </div>
      </li>
      <li>N = 5000000
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Memory usage at before allocation: used = 105.000000, free = 14825.562500 MB, total = 14930.562500 MB
  Memory usage at after allocation: used = 205.000000, free = 14725.562500 MB, total = 14930.562500 MB

  * Point generation time: 1.76397 ms
  * Spherical transformation time: 1.72032 ms
  * Copying to host time: 20.9988 ms
  Total execution time: 24.483 ms

  * Point generation time: 1.7425 ms
  * Spherical transformation time: 1.67654 ms
  * Copying to host time: 20.9689 ms
  Total execution time: 24.388 ms

  * Point generation time: 1.6937 ms
  * Spherical transformation time: 1.62406 ms
  * Copying to host time: 21.2419 ms
  Total execution time: 24.5596 ms
</code></pre></div>        </div>
      </li>
      <li>N = 7000000
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Memory usage at before allocation: used = 105.000000, free = 14825.562500 MB, total = 14930.562500 MB
  Memory usage at after allocation: used = 243.000000, free = 14687.562500 MB, total = 14930.562500 MB

  * Point generation time: 2.51101 ms
  * Spherical transformation time: 2.38698 ms
  * Copying to host time: 29.7932 ms
  Total execution time: 34.6912 ms

  * Point generation time: 2.48816 ms
  * Spherical transformation time: 2.34291 ms
  * Copying to host time: 29.6979 ms
  Total execution time: 34.5289 ms

  * Point generation time: 2.49011 ms
  * Spherical transformation time: 2.34176 ms
  * Copying to host time: 29.7214 ms
  Total execution time: 34.5533 ms
</code></pre></div>        </div>
      </li>
      <li>N = 9000000
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Memory usage at before allocation: used = 105.000000, free = 14825.562500 MB, total = 14930.562500 MB
  Memory usage at after allocation: used = 281.000000, free = 14649.562500 MB, total = 14930.562500 MB

  * Point generation time: 3.10112 ms
  * Spherical transformation time: 2.92096 ms
  * Copying to host time: 37.5393 ms
  Total execution time: 43.5613 ms

  * Point generation time: 3.07869 ms
  * Spherical transformation time: 2.87117 ms
  * Copying to host time: 37.7315 ms
  Total execution time: 43.6814 ms

  * Point generation time: 3.08115 ms
  * Spherical transformation time: 2.86979 ms
  * Copying to host time: 37.6602 ms
  Total execution time: 43.6111 ms
</code></pre></div>        </div>
      </li>
      <li>N = 10000000
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Program terminated with signal: SIGKILL
</code></pre></div>        </div>
        <ul>
          <li>ì²œë§Œê°œëŠ” godboltì—ì„œ ì‹¤í–‰ì„ ì•ˆí•´ì¤€ë‹¤â€¦ ã…</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p>ìœ„ ê²°ê³¼ë¥¼ ê·¸ë¦¬ë©´ (3íšŒë“¤ì˜ í‰ê· ê°’):</p>

    <p align="center">
  <img src="/assets/data/2023-12-10-thrust2/time_plot.png" width="750" />
</p>
    <ul>
      <li>ì´ ì‹¤í—˜ì„ í†µí•´ ìš°ë¦¬ëŠ” ì´ë¯¸ ì•Œê³ ìˆë˜ ì‚¬ì‹¤ì„ ë‹¤ì‹œ (<a href="https://godbolt.org/z/jMYs16nGq"><em>godbolt ë•ë¶„ì—</em></a>) ë¹ ë¥´ê²Œ ì•Œì•„ë³¼ ìˆ˜ ìˆì—ˆë‹¤.
        <ol>
          <li>GPUëŠ” ë³‘ë ¬ ì‘ì—…ì„ ë¹ ë¥´ê²Œ ì²˜ë¦¬í•œë‹¤.
            <ul>
              <li>taskë§ˆë‹¤ ë‹¤ë¥´ê² ì§€ë§Œ, 900ë§Œ í¬ì¸íŠ¸ë¥¼ 3dì—ì„œ 2d (spherical image)ë¡œ projectioní•˜ëŠ” ì—°ì‚°ì´ T4ì—ì„œ 3ms ì •ë„ ì†Œìš”ë˜ì—ˆë‹¤.</li>
            </ul>
          </li>
          <li><a href="https://github.com/gisbi-kim/thrust_examples/blob/main/three-dim-point-projection-to-image.cu">thrust ì˜ API</a>ë¥¼ ì´ìš©í•˜ë©´ ì´ëŸ¬í•œ ì´ë“ì„ í”„ë¡œê·¸ë˜ë¨¸ ì…ì¥ì—ì„œ ì•„ì£¼ ì†ì‰½ê²Œ ì·¨í•  ìˆ˜ ìˆë‹¤.</li>
          <li>CPUì™€ GPUì‚¬ì´ copyëŠ” ë§¤ìš° ëŠë¦¬ë‹¤.
            <ul>
              <li>ps. ìš”ì¦˜ ê·¸ë˜ì„œ <a href="https://www.google.com/search?q=hbm+cpu+gpu+copy&amp;sourceid=chrome&amp;ie=UTF-8">HBM</a>ì´ë¼ëŠ” ë‹¨ì–´ë„ í•«í•œ ë“¯ í•˜ë‹¤.</li>
              <li>ìœ„ì˜ ì˜ˆì‹œì—ì„œëŠ” input point cloud ë¥¼ random í•˜ê²Œ ìƒì„±í•˜ëŠ” ê²ƒë„ device-side ì—ì„œ <code class="language-plaintext highlighter-rouge">thrust::transform</code>ì„ í†µí•´ì„œ ìˆ˜í–‰í•˜ì—¬ì„œ ì—­ì‹œ ì‹œê°„ ì†Œìš”ê°€ ë§¤ìš° ì ì—ˆë‹¤.</li>
            </ul>
          </li>
        </ol>
      </li>
    </ul>
  </li>
</ul>

<h2 id="ê²°ë¡ ">ê²°ë¡ </h2>
<ul>
  <li>godbolt ëŠ” ì•„ì£¼ ì¢‹ì€ ì‚¬ì´íŠ¸ì´ë‹¤.
    <ul>
      <li>share ë„ ê°€ëŠ¥í•˜ë‹¤. êµìœ¡ìš©ìœ¼ë¡œ ì•„ì£¼ ì¢‹ìŒ.
        <p align="center">
  <img src="/assets/data/2023-12-10-thrust2/share.png" width="750" />
</p>
      </li>
      <li>godbolt cppcon ë¼ê³  ìœ íŠœë¸Œì—ì„œ ê²€ìƒ‰í•˜ë©´ Matt Godbolt ì„ ìƒë‹˜ì˜ ì•„ì£¼ ì¢‹ì€ ê°•ì˜ë“¤ì´ ë˜ ë§ì´ ìˆë‹¤.</li>
    </ul>
  </li>
  <li><a href="https://godbolt.org/z/jMYs16nGq">thrust ì‹¤ìŠµ</a>ì„ ì´ì–´ë‚˜ê°€ë³´ì.</li>
</ul>


  </div>

  <hr style="border:1px foo rgb(193, 198, 200)"><div id="disqus_thread" style="margin-top:25px"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'http://localhost:4000/slam/2023/12/11/thrust-practice-2.html';
      this.page.identifier = 'http://localhost:4000/slam/2023/12/11/thrust-practice-2.html';
    };
    (function () {
      var d = document, s = d.createElement('script');
      s.src = 'https://robotics.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments
      powered by Disqus.</a></noscript></div>

    </section>
    <footer class="condensed">
      <ul class="social about-footer condensed"><a href="https://www.linkedin.com/in/giseop-kim-71683088" target="_blank">
          <li>
            <i class="icon-linkedin-squared"></i>
          </li>
        </a><a href="https://scholar.google.com/citations?user=9mKOLX8AAAAJ&hl=ko&oi=ao" target="_blank">
          <li>
            <i class="ai ai-google-scholar"></i>
          </li>
        </a><a href="https://github.com/gisbi-kim" target="_blank">
          <li>
            <i class="icon-github-circled"></i>
          </li>
        </a><a href="https://bit.ly/giseopkim" target="_blank">
          <li>
            <i class="fa fa-user" style="font-size: 2.09em;"></i>
            <!-- <i> notion</i> -->
            <!-- <i class="fa fa-user"></i> -->
          </li>
        </a><a href="https://youtube.com/channel/UCrmVMJ3KEFbDD9EtnAmDT6g" target="_blank">
          <li>
            <i class="icon-youtube"></i>
          </li>
        </a></ul><p class="about-footer condensed">&copy;
        2023</p><div class="about-footer condensed">
        <p>Dark Mode
          <i class="icon-moon"></i>
          <label class="switch">
            <input type="checkbox" class="dark-mode-toggle">
            <span class="slider round" onclick="toggleDarkMode()"></span>
          </label>
        </p>
      </div>
    </footer>
  </main>
  
  <script type="text/javascript" src="/assets/js/darkmode.js"></script>
  
  <script src="/assets/js/simple-jekyll-search.min.js"></script>
  <script src="/assets/js/search.js"></script>
  
</body>

</html>
